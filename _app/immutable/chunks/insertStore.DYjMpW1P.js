import{w as h}from"./index.BuGhtYYs.js";function w(){const{subscribe:i,set:o,update:s}=h(new Map);return{subscribe:i,set:o,update:s,reset:()=>o(new Map),load:async(n,t)=>{const e=await f(t);console.log(e),s(r=>(r.set(n,e),r))},remove:n=>s(t=>(t.delete(n),t))}}async function f(i,o=5e4){const s=i.split(`
`),n=[],t={wig:"",insertions:[]};n.push("track type=wiggle_0 visibility=full autoScale=on color=255,150,0 yLineMark=0 yLineOnOff=on"),n.push("variableStep chrom=chrom span=2");for(let e=0;e<s.length;e+=o)s.slice(e,e+o).forEach((a,u)=>{const[c,l]=a.split(/\s+/).map(p=>parseInt(p,10));t.insertions.push({plus:c,minus:l}),c!==0&&n.push(`${e+u} ${c}`),l!==0&&n.push(`${e+u} -${l}`)}),console.log(e),await new Promise(a=>setTimeout(a,0));return t.wig=n.join(`
`),t}const g=w();export{g as i};
