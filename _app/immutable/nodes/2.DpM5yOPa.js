import{s as ot,y as Ie,A as Rt,e as D,a as K,c as L,b as O,g as X,f as R,a8 as Et,m as A,v as Te,i as B,h as N,Q as C,B as Dt,C as Lt,D as Nt,E as wi,a9 as yt,w as vi,z as St,aa as W,O as hn,t as Re,l as Fe,d as De,n as Le,ab as oa,G as ki,j as zt,ac as xi,J as sa,k as ut,H as fa,K as Ht}from"../chunks/fdk2rqUP.js";import{S as st,i as ft,t as U,g as be,a as H,c as me,f as Ei,b as Ue,d as Ce,m as Me,e as He}from"../chunks/CdCg8B6F.js";import{e as vn}from"../chunks/CHHpUjtn.js";import{g as ca}from"../chunks/CrrjleLN.js";import"../chunks/1N5xdIk4.js";import{g as yi}from"../chunks/CN4WR7uZ.js";import{P as da}from"../chunks/DTMBj-cl.js";import{s as ke,a as kt}from"../chunks/CMHs0aaK.js";import{i as Ge}from"../chunks/CMe-kOzu.js";import{r as Ke,i as gt,t as Bt}from"../chunks/B7ZU7H8Q.js";const ha=e=>({}),kn=e=>({}),_a=e=>({}),xn=e=>({}),ua=e=>({}),En=e=>({});function yn(e){let n,t,i;const r=e[18].lead,a=Rt(r,e,e[17],En);return{c(){n=D("div"),a&&a.c(),this.h()},l(o){n=L(o,"DIV",{class:!0});var l=O(n);a&&a.l(l),l.forEach(R),this.h()},h(){A(n,"class",t="dropzone-lead "+e[5])},m(o,l){B(o,n,l),a&&a.m(n,null),i=!0},p(o,l){a&&a.p&&(!i||l[0]&131072)&&Dt(a,r,o,o[17],i?Nt(r,o[17],l,ua):Lt(o[17]),En),(!i||l[0]&32&&t!==(t="dropzone-lead "+o[5]))&&A(n,"class",t)},i(o){i||(U(a,o),i=!0)},o(o){H(a,o),i=!1},d(o){o&&R(n),a&&a.d(o)}}}function ga(e){let n,t="Upload a file",i;return{c(){n=D("strong"),n.textContent=t,i=Re(" or drag and drop")},l(r){n=L(r,"STRONG",{"data-svelte-h":!0}),Fe(n)!=="svelte-13uz6lq"&&(n.textContent=t),i=De(r," or drag and drop")},m(r,a){B(r,n,a),B(r,i,a)},p:Le,d(r){r&&(R(n),R(i))}}}function Sn(e){let n,t,i;const r=e[18].meta,a=Rt(r,e,e[17],kn);return{c(){n=D("small"),a&&a.c(),this.h()},l(o){n=L(o,"SMALL",{class:!0});var l=O(n);a&&a.l(l),l.forEach(R),this.h()},h(){A(n,"class",t="dropzone-meta "+e[7])},m(o,l){B(o,n,l),a&&a.m(n,null),i=!0},p(o,l){a&&a.p&&(!i||l[0]&131072)&&Dt(a,r,o,o[17],i?Nt(r,o[17],l,ha):Lt(o[17]),kn),(!i||l[0]&128&&t!==(t="dropzone-meta "+o[7]))&&A(n,"class",t)},i(o){i||(U(a,o),i=!0)},o(o){H(a,o),i=!1},d(o){o&&R(n),a&&a.d(o)}}}function ba(e){let n,t,i,r,a,o,l,_,s,f,E,b,d,k,T,y,S=[{type:"file"},{name:e[2]},{class:i="dropzone-input "+e[9]},e[11]()],g={};for(let m=0;m<S.length;m+=1)g=Ie(g,S[m]);let u=e[13].lead&&yn(e);const h=e[18].message,w=Rt(h,e,e[17],xn),z=w||ga();let c=e[13].meta&&Sn(e);return{c(){n=D("div"),t=D("input"),r=K(),a=D("div"),o=D("div"),u&&u.c(),l=K(),_=D("div"),z.c(),f=K(),c&&c.c(),this.h()},l(m){n=L(m,"DIV",{class:!0,"data-testid":!0});var p=O(n);t=L(p,"INPUT",{type:!0,name:!0,class:!0}),r=X(p),a=L(p,"DIV",{class:!0});var x=O(a);o=L(x,"DIV",{class:!0});var I=O(o);u&&u.l(I),l=X(I),_=L(I,"DIV",{class:!0});var P=O(_);z.l(P),P.forEach(R),f=X(I),c&&c.l(I),I.forEach(R),x.forEach(R),p.forEach(R),this.h()},h(){Et(t,g),A(_,"class",s="dropzone-message "+e[6]),A(o,"class",E="dropzone-interface-text "+e[4]),A(a,"class",b="dropzone-interface "+e[8]+" "+e[3]),A(n,"class",d="dropzone "+e[10]),A(n,"data-testid","file-dropzone"),Te(n,"opacity-50",e[12].disabled)},m(m,p){B(m,n,p),N(n,t),t.autofocus&&t.focus(),e[32](t),N(n,r),N(n,a),N(a,o),u&&u.m(o,null),N(o,l),N(o,_),z.m(_,null),N(o,f),c&&c.m(o,null),k=!0,T||(y=[C(t,"change",e[31]),C(t,"change",e[19]),C(t,"dragenter",e[20]),C(t,"dragover",e[21]),C(t,"dragleave",e[22]),C(t,"drop",e[23]),C(t,"click",e[24]),C(t,"keydown",e[25]),C(t,"keyup",e[26]),C(t,"keypress",e[27]),C(t,"focus",e[28]),C(t,"focusin",e[29]),C(t,"focusout",e[30])],T=!0)},p(m,p){Et(t,g=yi(S,[{type:"file"},(!k||p[0]&4)&&{name:m[2]},(!k||p[0]&512&&i!==(i="dropzone-input "+m[9]))&&{class:i},m[11]()])),m[13].lead?u?(u.p(m,p),p[0]&8192&&U(u,1)):(u=yn(m),u.c(),U(u,1),u.m(o,l)):u&&(be(),H(u,1,1,()=>{u=null}),me()),w&&w.p&&(!k||p[0]&131072)&&Dt(w,h,m,m[17],k?Nt(h,m[17],p,_a):Lt(m[17]),xn),(!k||p[0]&64&&s!==(s="dropzone-message "+m[6]))&&A(_,"class",s),m[13].meta?c?(c.p(m,p),p[0]&8192&&U(c,1)):(c=Sn(m),c.c(),U(c,1),c.m(o,null)):c&&(be(),H(c,1,1,()=>{c=null}),me()),(!k||p[0]&16&&E!==(E="dropzone-interface-text "+m[4]))&&A(o,"class",E),(!k||p[0]&264&&b!==(b="dropzone-interface "+m[8]+" "+m[3]))&&A(a,"class",b),(!k||p[0]&1024&&d!==(d="dropzone "+m[10]))&&A(n,"class",d),(!k||p[0]&5120)&&Te(n,"opacity-50",m[12].disabled)},i(m){k||(U(u),U(z,m),U(c),k=!0)},o(m){H(u),H(z,m),H(c),k=!1},d(m){m&&R(n),e[32](null),u&&u.d(),z.d(m),c&&c.d(),T=!1,wi(y)}}}const ma="textarea relative flex justify-center items-center",pa="w-full absolute top-0 left-0 right-0 bottom-0 z-[1] opacity-0 disabled:!opacity-0 cursor-pointer",wa="flex justify-center items-center text-center";function va(e,n,t){let i,r,a;const o=["files","fileInput","name","border","padding","rounded","regionInterface","regionInterfaceText","slotLead","slotMessage","slotMeta"];let l=yt(n,o),{$$slots:_={},$$scope:s}=n;const f=vi(_);let{files:E=void 0}=n,{fileInput:b=void 0}=n,{name:d}=n,{border:k="border-2 border-dashed"}=n,{padding:T="p-4 py-8"}=n,{rounded:y="rounded-container-token"}=n,{regionInterface:S=""}=n,{regionInterfaceText:g=""}=n,{slotLead:u="mb-4"}=n,{slotMessage:h=""}=n,{slotMeta:w="opacity-75"}=n;function z(){return delete l.class,l}function c(v){W.call(this,e,v)}function m(v){W.call(this,e,v)}function p(v){W.call(this,e,v)}function x(v){W.call(this,e,v)}function I(v){W.call(this,e,v)}function P(v){W.call(this,e,v)}function q(v){W.call(this,e,v)}function te(v){W.call(this,e,v)}function ne(v){W.call(this,e,v)}function ge(v){W.call(this,e,v)}function je(v){W.call(this,e,v)}function Ut(v){W.call(this,e,v)}function Ct(){E=this.files,t(0,E)}function Mt(v){hn[v?"unshift":"push"](()=>{b=v,t(1,b)})}return e.$$set=v=>{t(33,n=Ie(Ie({},n),St(v))),t(12,l=yt(n,o)),"files"in v&&t(0,E=v.files),"fileInput"in v&&t(1,b=v.fileInput),"name"in v&&t(2,d=v.name),"border"in v&&t(14,k=v.border),"padding"in v&&t(15,T=v.padding),"rounded"in v&&t(16,y=v.rounded),"regionInterface"in v&&t(3,S=v.regionInterface),"regionInterfaceText"in v&&t(4,g=v.regionInterfaceText),"slotLead"in v&&t(5,u=v.slotLead),"slotMessage"in v&&t(6,h=v.slotMessage),"slotMeta"in v&&t(7,w=v.slotMeta),"$$scope"in v&&t(17,s=v.$$scope)},e.$$.update=()=>{t(10,i=`${ma} ${k} ${T} ${y} ${n.class??""}`)},t(9,r=`${pa}`),t(8,a=`${wa}`),n=St(n),[E,b,d,S,g,u,h,w,a,r,i,z,l,f,k,T,y,s,_,c,m,p,x,I,P,q,te,ne,ge,je,Ut,Ct,Mt]}class ka extends st{constructor(n){super(),ft(this,n,va,ba,ot,{files:0,fileInput:1,name:2,border:14,padding:15,rounded:16,regionInterface:3,regionInterfaceText:4,slotLead:5,slotMessage:6,slotMeta:7},null,[-1,-1])}}function zn(e){let n,t;const i=e[22].default,r=Rt(i,e,e[21],null);return{c(){n=D("div"),r&&r.c(),this.h()},l(a){n=L(a,"DIV",{class:!0});var o=O(n);r&&r.l(o),o.forEach(R),this.h()},h(){A(n,"class","slide-toggle-text ml-3")},m(a,o){B(a,n,o),r&&r.m(n,null),t=!0},p(a,o){r&&r.p&&(!t||o[0]&2097152)&&Dt(r,i,a,a[21],t?Nt(i,a[21],o,null):Lt(a[21]),null)},i(a){t||(U(r,a),t=!0)},o(a){H(r,a),t=!1},d(a){a&&R(n),r&&r.d(a)}}}function xa(e){let n,t,i,r,a,o,l,_,s,f,E,b,d,k,T,y=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:e[1]},e[8](),{disabled:r=e[9].disabled}],S={};for(let u=0;u<y.length;u+=1)S=Ie(S,y[u]);let g=e[10].default&&zn(e);return{c(){n=D("div"),t=D("label"),i=D("input"),a=K(),o=D("div"),l=D("div"),f=K(),g&&g.c(),this.h()},l(u){n=L(u,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var h=O(n);t=L(h,"LABEL",{class:!0});var w=O(t);i=L(w,"INPUT",{type:!0,class:!0,name:!0}),a=X(w),o=L(w,"DIV",{class:!0});var z=O(o);l=L(z,"DIV",{class:!0}),O(l).forEach(R),z.forEach(R),f=X(w),g&&g.l(w),w.forEach(R),h.forEach(R),this.h()},h(){Et(i,S),A(l,"class",_="slide-toggle-thumb "+e[3]),Te(l,"cursor-not-allowed",e[9].disabled),A(o,"class",s="slide-toggle-track "+e[4]),Te(o,"cursor-not-allowed",e[9].disabled),A(t,"class",E="slide-toggle-label "+e[5]),A(n,"id",e[2]),A(n,"class",b="slide-toggle "+e[6]),A(n,"data-testid","slide-toggle"),A(n,"role","switch"),A(n,"aria-label",e[2]),A(n,"aria-checked",e[0]),A(n,"tabindex","0")},m(u,h){B(u,n,h),N(n,t),N(t,i),i.autofocus&&i.focus(),i.checked=e[0],N(t,a),N(t,o),N(o,l),N(t,f),g&&g.m(t,null),d=!0,k||(T=[C(i,"change",e[31]),C(i,"click",e[23]),C(i,"keydown",e[24]),C(i,"keyup",e[25]),C(i,"keypress",e[26]),C(i,"mouseover",e[27]),C(i,"change",e[28]),C(i,"focus",e[29]),C(i,"blur",e[30]),C(n,"keydown",e[7])],k=!0)},p(u,h){Et(i,S=yi(y,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!d||h[0]&2)&&{name:u[1]},u[8](),(!d||h[0]&512&&r!==(r=u[9].disabled))&&{disabled:r}])),h[0]&1&&(i.checked=u[0]),(!d||h[0]&8&&_!==(_="slide-toggle-thumb "+u[3]))&&A(l,"class",_),(!d||h[0]&520)&&Te(l,"cursor-not-allowed",u[9].disabled),(!d||h[0]&16&&s!==(s="slide-toggle-track "+u[4]))&&A(o,"class",s),(!d||h[0]&528)&&Te(o,"cursor-not-allowed",u[9].disabled),u[10].default?g?(g.p(u,h),h[0]&1024&&U(g,1)):(g=zn(u),g.c(),U(g,1),g.m(t,null)):g&&(be(),H(g,1,1,()=>{g=null}),me()),(!d||h[0]&32&&E!==(E="slide-toggle-label "+u[5]))&&A(t,"class",E),(!d||h[0]&4)&&A(n,"id",u[2]),(!d||h[0]&64&&b!==(b="slide-toggle "+u[6]))&&A(n,"class",b),(!d||h[0]&4)&&A(n,"aria-label",u[2]),(!d||h[0]&1)&&A(n,"aria-checked",u[0])},i(u){d||(U(g),d=!0)},o(u){H(g),d=!1},d(u){u&&R(n),g&&g.d(),k=!1,wi(T)}}}const Ea="inline-block",ya="unstyled flex items-center",Sa="flex transition-all duration-[200ms] cursor-pointer",za="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function Ta(e,n,t){let i,r,a,o,l,_,s,f;const E=["name","checked","size","background","active","border","rounded","label"];let b=yt(n,E),{$$slots:d={},$$scope:k}=n;const T=vi(d),y=oa();let{name:S}=n,{checked:g=!1}=n,{size:u="md"}=n,{background:h="bg-surface-400 dark:bg-surface-700"}=n,{active:w="bg-surface-900 dark:bg-surface-300"}=n,{border:z=""}=n,{rounded:c="rounded-full"}=n,{label:m=""}=n,p;switch(u){case"sm":p="w-12 h-6";break;case"lg":p="w-20 h-10";break;default:p="w-16 h-8"}function x(v){["Enter","Space"].includes(v.code)&&(v.preventDefault(),y("keyup",v),v.currentTarget.firstChild.click())}function I(){return delete b.class,b}function P(v){W.call(this,e,v)}function q(v){W.call(this,e,v)}function te(v){W.call(this,e,v)}function ne(v){W.call(this,e,v)}function ge(v){W.call(this,e,v)}function je(v){W.call(this,e,v)}function Ut(v){W.call(this,e,v)}function Ct(v){W.call(this,e,v)}function Mt(){g=this.checked,t(0,g)}return e.$$set=v=>{t(9,n=Ie(Ie({},n),St(v))),t(33,b=yt(n,E)),"name"in v&&t(1,S=v.name),"checked"in v&&t(0,g=v.checked),"size"in v&&t(11,u=v.size),"background"in v&&t(12,h=v.background),"active"in v&&t(13,w=v.active),"border"in v&&t(14,z=v.border),"rounded"in v&&t(15,c=v.rounded),"label"in v&&t(2,m=v.label),"$$scope"in v&&t(21,k=v.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&12289&&t(19,i=g?w:`${h} cursor-pointer`),e.$$.dirty[0]&1&&t(18,r=g?"bg-white/75":"bg-white"),e.$$.dirty[0]&1&&t(17,a=g?"translate-x-full":""),t(20,o=n.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,l=`${Ea} ${c} ${o} ${n.class??""}`),e.$$.dirty[0]&638976&&t(4,s=`${Sa} ${z} ${c} ${p} ${i}`),e.$$.dirty[0]&425984&&t(3,f=`${za} ${c} ${r} ${a}`)},t(5,_=`${ya}`),n=St(n),[g,S,m,f,s,_,l,x,I,n,T,u,h,w,z,c,p,a,r,i,o,k,d,P,q,te,ne,ge,je,Ut,Ct,Mt]}class Aa extends st{constructor(n){super(),ft(this,n,Ta,xa,ot,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}function Ia(e){let n,t=e[0]?"Treatment":"Control",i,r;return{c(){n=D("span"),i=Re(t),this.h()},l(a){n=L(a,"SPAN",{class:!0});var o=O(n);i=De(o,t),o.forEach(R),this.h()},h(){A(n,"class",r=`chip ${e[0]?"variant-soft-primary":"variant-soft-surface"}`)},m(a,o){B(a,n,o),N(n,i)},p(a,o){o&1&&t!==(t=a[0]?"Treatment":"Control")&&zt(i,t),o&1&&r!==(r=`chip ${a[0]?"variant-soft-primary":"variant-soft-surface"}`)&&A(n,"class",r)},d(a){a&&R(n)}}}function Ra(e){let n,t,i,r,a=ke(e[1])+"",o,l,_,s,f,E,b,d='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',k,T,y;function S(u){e[4](u)}let g={active:"variant-soft-primary",size:"sm",class:"mr-2",name:"slide",$$slots:{default:[Ia]},$$scope:{ctx:e}};return e[0]!==void 0&&(g.checked=e[0]),s=new Aa({props:g}),hn.push(()=>Ei(s,"checked",S)),s.$on("change",e[5]),{c(){n=D("div"),t=D("div"),i=D("div"),r=D("p"),o=Re(a),l=K(),_=D("div"),Ue(s.$$.fragment),E=K(),b=D("button"),b.innerHTML=d,this.h()},l(u){n=L(u,"DIV",{class:!0});var h=O(n);t=L(h,"DIV",{class:!0});var w=O(t);i=L(w,"DIV",{class:!0});var z=O(i);r=L(z,"P",{class:!0});var c=O(r);o=De(c,a),c.forEach(R),l=X(z),_=L(z,"DIV",{class:!0});var m=O(_);Ce(s.$$.fragment,m),E=X(m),b=L(m,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Fe(b)!=="svelte-1byl37j"&&(b.innerHTML=d),m.forEach(R),z.forEach(R),w.forEach(R),h.forEach(R),this.h()},h(){A(r,"class","text-lg"),A(b,"type","button"),A(b,"class","btn-icon hover:variant-ringed-tertiary"),A(_,"class","flex justify-between items-center min-w-64"),A(i,"class","flex flex-col space-y-2 w-full"),A(t,"class","flex justify-center items-center space-x-2"),A(n,"class","card p-4")},m(u,h){B(u,n,h),N(n,t),N(t,i),N(i,r),N(r,o),N(i,l),N(i,_),Me(s,_,null),N(_,E),N(_,b),k=!0,T||(y=C(b,"click",function(){ki(e[2])&&e[2].apply(this,arguments)}),T=!0)},p(u,[h]){e=u,(!k||h&2)&&a!==(a=ke(e[1])+"")&&zt(o,a);const w={};h&65&&(w.$$scope={dirty:h,ctx:e}),!f&&h&1&&(f=!0,w.checked=e[0],xi(()=>f=!1)),s.$set(w)},i(u){k||(U(s.$$.fragment,u),k=!0)},o(u){H(s.$$.fragment,u),k=!1},d(u){u&&R(n),He(s),T=!1,y()}}}function Da(e,n,t){let{filename:i}=n,{onRemove:r}=n,{onToggle:a}=n,{isTreatment:o=!1}=n;function l(s){o=s,t(0,o)}const _=()=>a(o);return e.$$set=s=>{"filename"in s&&t(1,i=s.filename),"onRemove"in s&&t(2,r=s.onRemove),"onToggle"in s&&t(3,a=s.onToggle),"isTreatment"in s&&t(0,o=s.isTreatment)},[o,i,r,a,l,_]}class La extends st{constructor(n){super(),ft(this,n,Da,Ra,ot,{filename:1,onRemove:2,onToggle:3,isTreatment:0})}}function Na(e){let n,t,i,r,a=ke(e[0])+"",o,l,_,s,f,E,b,d,k='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',T,y;return{c(){n=D("div"),t=D("div"),i=D("div"),r=D("p"),o=Re(a),l=K(),_=D("div"),s=D("span"),f=Re(e[2]),b=K(),d=D("button"),d.innerHTML=k,this.h()},l(S){n=L(S,"DIV",{class:!0});var g=O(n);t=L(g,"DIV",{class:!0});var u=O(t);i=L(u,"DIV",{class:!0});var h=O(i);r=L(h,"P",{class:!0});var w=O(r);o=De(w,a),w.forEach(R),l=X(h),_=L(h,"DIV",{class:!0});var z=O(_);s=L(z,"SPAN",{class:!0});var c=O(s);f=De(c,e[2]),c.forEach(R),b=X(z),d=L(z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Fe(d)!=="svelte-1byl37j"&&(d.innerHTML=k),z.forEach(R),h.forEach(R),u.forEach(R),g.forEach(R),this.h()},h(){A(r,"class","text-lg"),A(s,"class",E=`chip ${e[3]}`),A(d,"type","button"),A(d,"class","btn-icon hover:variant-ringed-tertiary"),A(_,"class","flex justify-between items-center min-w-64"),A(i,"class","flex flex-col space-y-2 w-full"),A(t,"class","flex justify-center items-center space-x-2"),A(n,"class","card p-4")},m(S,g){B(S,n,g),N(n,t),N(t,i),N(i,r),N(r,o),N(i,l),N(i,_),N(_,s),N(s,f),N(_,b),N(_,d),T||(y=C(d,"click",function(){ki(e[1])&&e[1].apply(this,arguments)}),T=!0)},p(S,[g]){e=S,g&1&&a!==(a=ke(e[0])+"")&&zt(o,a),g&4&&zt(f,e[2]),g&8&&E!==(E=`chip ${e[3]}`)&&A(s,"class",E)},i:Le,o:Le,d(S){S&&R(n),T=!1,y()}}}function Za(e,n,t){let{filename:i}=n,{onRemove:r}=n,{type:a}=n,{chip:o="variant-soft-success"}=n;return e.$$set=l=>{"filename"in l&&t(0,i=l.filename),"onRemove"in l&&t(1,r=l.onRemove),"type"in l&&t(2,a=l.type),"chip"in l&&t(3,o=l.chip)},[i,r,a,o]}class Si extends st{constructor(n){super(),ft(this,n,Za,Na,ot,{filename:0,onRemove:1,type:2,chip:3})}}const Oa=e=>{let n="+";e.startsWith("complement(")&&(n="-",e=e.replace("complement(","").replace(")","")),e=e.replace(/</g,"").replace(/>/g,"");const[t,i]=e.split(".."),r=parseInt(t,10),a=parseInt(i,10);if(isNaN(r)||isNaN(a))throw new Error(`Invalid location: ${e}`);return{start:r,end:a,strand:n}};function Fa(e){const n=e.split(`
`),t={features:[],currentFeature:null,multiline:!1},i=n.reduce((r,a)=>{const o=/^\s+([a-zA-Z_]+)\s+((?:complement\()?[<>]?\d+\.\.[<>]?\d+\)?)/;if(o.test(a)){r.currentFeature&&r.features.push(r.currentFeature);const l=a.match(o);if(l){const _=l[1],s=l[2],{start:f,end:E,strand:b}=Oa(s);r.currentFeature={type:_,start:f,end:E,strand:b,attributes:{}}}r.multiline=!1}else if(a.trim().startsWith("/")){const l=a.trim().match(/^\/(\S+?)=(?:"([^"]+)"|(.+))/);if(l&&r.currentFeature){const[,_,s,f]=l,E=s||f||"";r.currentFeature.attributes[_]=E,r.multiline=E.startsWith('"')&&!E.endsWith('"')||E.startsWith("(")&&!E.endsWith(")")}}else if(r.multiline&&r.currentFeature&&/^\s+[^/]/.test(a)){const l=Object.keys(r.currentFeature.attributes),_=l[l.length-1];_&&(r.currentFeature.attributes[_]+=a.trim()),a.trim().endsWith('"')&&(r.multiline=!1)}else r.currentFeature&&(r.features.push(r.currentFeature),r.currentFeature=null,r.multiline=!1);return r},t);return i.currentFeature&&i.features.push(i.currentFeature),i.features}function Ua(e){const t=e.split(`
`).find(f=>f.startsWith("LOCUS")),i=t?t.split(/\s+/)[1]:"",r=e.match(/FEATURES\s+([\s\S]+?)ORIGIN/),a=r?r[1]:"",o=Fa(a),l=e.match(/ORIGIN\s+([\s\S]+)/),s=(l?l[1]:"").replace(/[^a-zA-Z]/g,"");return{locusId:i,sequence:s,features:o}}function Ca(e){const t=e.split(/\n(?=LOCUS)/).map(Ua),i=t.map(a=>{const o=[`>${a.locusId}`];for(let l=0;l<a.sequence.length;l+=60)o.push(a.sequence.slice(l,l+60));return o.join(`
`)}),r=["##gff-version 3"];return t.forEach(a=>{a.features.forEach(o=>{const l={...o.attributes};l.name||l.Name?l.Name=l.name||l.Name:l.gene?l.Name=l.gene:l.product?l.Name=l.product:l.locus_tag&&(l.Name=l.locus_tag),o.type==="source"&&l.organism&&(l.Name=l.organism);const _=Object.entries(l).map(([s,f])=>`${s}=${f.replace(/"/g,"").replace(/;/g,",")}`).join(";");r.push(`${a.locusId}	diana	${o.type}	${o.start}	${o.end}	.	${o.strand}	.	${_}`)})}),{gff:r.join(`
`),fasta:i.join(`
`)}}async function Ma(e,n,t=5e4){const i=[];i.push(`variableStep chrom=${n}`);const r=e.split(`
`);for(let a=0;a<r.length;a+=t)r.slice(a,a+t).forEach((l,_)=>{let[s,f]=l.split(/\s+/).map(E=>parseInt(E,10));isNaN(f)&&(f=0),isNaN(s)&&(s=0),s!==0&&i.push(`${a+_+1} ${s}`),f!==0&&i.push(`${a+_+1} -${f}`)}),await new Promise(l=>setTimeout(l,0));return i.join(`
`)}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Ha=4,Tn=0,An=1,Ba=2;function Be(e){let n=e.length;for(;--n>=0;)e[n]=0}const Pa=0,zi=1,Wa=2,ja=3,Ga=258,_n=29,ct=256,$e=ct+1+_n,Ae=30,un=19,Ti=2*$e+1,pe=15,Pt=16,Va=7,gn=256,Ai=16,Ii=17,Ri=18,nn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),xt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ka=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Di=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xa=512,se=new Array(($e+2)*2);Be(se);const qe=new Array(Ae*2);Be(qe);const et=new Array(Xa);Be(et);const tt=new Array(Ga-ja+1);Be(tt);const bn=new Array(_n);Be(bn);const Tt=new Array(Ae);Be(Tt);function Wt(e,n,t,i,r){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let Li,Ni,Zi;function jt(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const Oi=e=>e<256?et[e]:et[256+(e>>>7)],nt=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},Y=(e,n,t)=>{e.bi_valid>Pt-t?(e.bi_buf|=n<<e.bi_valid&65535,nt(e,e.bi_buf),e.bi_buf=n>>Pt-e.bi_valid,e.bi_valid+=t-Pt):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},ae=(e,n,t)=>{Y(e,t[n*2],t[n*2+1])},Fi=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},Ya=e=>{e.bi_valid===16?(nt(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},qa=(e,n)=>{const t=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,a=n.stat_desc.has_stree,o=n.stat_desc.extra_bits,l=n.stat_desc.extra_base,_=n.stat_desc.max_length;let s,f,E,b,d,k,T=0;for(b=0;b<=pe;b++)e.bl_count[b]=0;for(t[e.heap[e.heap_max]*2+1]=0,s=e.heap_max+1;s<Ti;s++)f=e.heap[s],b=t[t[f*2+1]*2+1]+1,b>_&&(b=_,T++),t[f*2+1]=b,!(f>i)&&(e.bl_count[b]++,d=0,f>=l&&(d=o[f-l]),k=t[f*2],e.opt_len+=k*(b+d),a&&(e.static_len+=k*(r[f*2+1]+d)));if(T!==0){do{for(b=_-1;e.bl_count[b]===0;)b--;e.bl_count[b]--,e.bl_count[b+1]+=2,e.bl_count[_]--,T-=2}while(T>0);for(b=_;b!==0;b--)for(f=e.bl_count[b];f!==0;)E=e.heap[--s],!(E>i)&&(t[E*2+1]!==b&&(e.opt_len+=(b-t[E*2+1])*t[E*2],t[E*2+1]=b),f--)}},Ui=(e,n,t)=>{const i=new Array(pe+1);let r=0,a,o;for(a=1;a<=pe;a++)r=r+t[a-1]<<1,i[a]=r;for(o=0;o<=n;o++){let l=e[o*2+1];l!==0&&(e[o*2]=Fi(i[l]++,l))}},Ja=()=>{let e,n,t,i,r;const a=new Array(pe+1);for(t=0,i=0;i<_n-1;i++)for(bn[i]=t,e=0;e<1<<nn[i];e++)tt[t++]=i;for(tt[t-1]=i,r=0,i=0;i<16;i++)for(Tt[i]=r,e=0;e<1<<xt[i];e++)et[r++]=i;for(r>>=7;i<Ae;i++)for(Tt[i]=r<<7,e=0;e<1<<xt[i]-7;e++)et[256+r++]=i;for(n=0;n<=pe;n++)a[n]=0;for(e=0;e<=143;)se[e*2+1]=8,e++,a[8]++;for(;e<=255;)se[e*2+1]=9,e++,a[9]++;for(;e<=279;)se[e*2+1]=7,e++,a[7]++;for(;e<=287;)se[e*2+1]=8,e++,a[8]++;for(Ui(se,$e+1,a),e=0;e<Ae;e++)qe[e*2+1]=5,qe[e*2]=Fi(e,5);Li=new Wt(se,nn,ct+1,$e,pe),Ni=new Wt(qe,xt,0,Ae,pe),Zi=new Wt(new Array(0),Ka,0,un,Va)},Ci=e=>{let n;for(n=0;n<$e;n++)e.dyn_ltree[n*2]=0;for(n=0;n<Ae;n++)e.dyn_dtree[n*2]=0;for(n=0;n<un;n++)e.bl_tree[n*2]=0;e.dyn_ltree[gn*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Mi=e=>{e.bi_valid>8?nt(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},In=(e,n,t,i)=>{const r=n*2,a=t*2;return e[r]<e[a]||e[r]===e[a]&&i[n]<=i[t]},Gt=(e,n,t)=>{const i=e.heap[t];let r=t<<1;for(;r<=e.heap_len&&(r<e.heap_len&&In(n,e.heap[r+1],e.heap[r],e.depth)&&r++,!In(n,i,e.heap[r],e.depth));)e.heap[t]=e.heap[r],t=r,r<<=1;e.heap[t]=i},Rn=(e,n,t)=>{let i,r,a=0,o,l;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+a++]&255,i+=(e.pending_buf[e.sym_buf+a++]&255)<<8,r=e.pending_buf[e.sym_buf+a++],i===0?ae(e,r,n):(o=tt[r],ae(e,o+ct+1,n),l=nn[o],l!==0&&(r-=bn[o],Y(e,r,l)),i--,o=Oi(i),ae(e,o,t),l=xt[o],l!==0&&(i-=Tt[o],Y(e,i,l)));while(a<e.sym_next);ae(e,gn,n)},an=(e,n)=>{const t=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,a=n.stat_desc.elems;let o,l,_=-1,s;for(e.heap_len=0,e.heap_max=Ti,o=0;o<a;o++)t[o*2]!==0?(e.heap[++e.heap_len]=_=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)s=e.heap[++e.heap_len]=_<2?++_:0,t[s*2]=1,e.depth[s]=0,e.opt_len--,r&&(e.static_len-=i[s*2+1]);for(n.max_code=_,o=e.heap_len>>1;o>=1;o--)Gt(e,t,o);s=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Gt(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,t[s*2]=t[o*2]+t[l*2],e.depth[s]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,t[o*2+1]=t[l*2+1]=s,e.heap[1]=s++,Gt(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],qa(e,n),Ui(t,_,e.bl_count)},Dn=(e,n,t)=>{let i,r=-1,a,o=n[0*2+1],l=0,_=7,s=4;for(o===0&&(_=138,s=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)a=o,o=n[(i+1)*2+1],!(++l<_&&a===o)&&(l<s?e.bl_tree[a*2]+=l:a!==0?(a!==r&&e.bl_tree[a*2]++,e.bl_tree[Ai*2]++):l<=10?e.bl_tree[Ii*2]++:e.bl_tree[Ri*2]++,l=0,r=a,o===0?(_=138,s=3):a===o?(_=6,s=3):(_=7,s=4))},Ln=(e,n,t)=>{let i,r=-1,a,o=n[0*2+1],l=0,_=7,s=4;for(o===0&&(_=138,s=3),i=0;i<=t;i++)if(a=o,o=n[(i+1)*2+1],!(++l<_&&a===o)){if(l<s)do ae(e,a,e.bl_tree);while(--l!==0);else a!==0?(a!==r&&(ae(e,a,e.bl_tree),l--),ae(e,Ai,e.bl_tree),Y(e,l-3,2)):l<=10?(ae(e,Ii,e.bl_tree),Y(e,l-3,3)):(ae(e,Ri,e.bl_tree),Y(e,l-11,7));l=0,r=a,o===0?(_=138,s=3):a===o?(_=6,s=3):(_=7,s=4)}},Qa=e=>{let n;for(Dn(e,e.dyn_ltree,e.l_desc.max_code),Dn(e,e.dyn_dtree,e.d_desc.max_code),an(e,e.bl_desc),n=un-1;n>=3&&e.bl_tree[Di[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},$a=(e,n,t,i)=>{let r;for(Y(e,n-257,5),Y(e,t-1,5),Y(e,i-4,4),r=0;r<i;r++)Y(e,e.bl_tree[Di[r]*2+1],3);Ln(e,e.dyn_ltree,n-1),Ln(e,e.dyn_dtree,t-1)},er=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return Tn;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return An;for(t=32;t<ct;t++)if(e.dyn_ltree[t*2]!==0)return An;return Tn};let Nn=!1;const tr=e=>{Nn||(Ja(),Nn=!0),e.l_desc=new jt(e.dyn_ltree,Li),e.d_desc=new jt(e.dyn_dtree,Ni),e.bl_desc=new jt(e.bl_tree,Zi),e.bi_buf=0,e.bi_valid=0,Ci(e)},Hi=(e,n,t,i)=>{Y(e,(Pa<<1)+(i?1:0),3),Mi(e),nt(e,t),nt(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},nr=e=>{Y(e,zi<<1,3),ae(e,gn,se),Ya(e)},ir=(e,n,t,i)=>{let r,a,o=0;e.level>0?(e.strm.data_type===Ba&&(e.strm.data_type=er(e)),an(e,e.l_desc),an(e,e.d_desc),o=Qa(e),r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=r&&(r=a)):r=a=t+5,t+4<=r&&n!==-1?Hi(e,n,t,i):e.strategy===Ha||a===r?(Y(e,(zi<<1)+(i?1:0),3),Rn(e,se,qe)):(Y(e,(Wa<<1)+(i?1:0),3),$a(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Rn(e,e.dyn_ltree,e.dyn_dtree)),Ci(e),i&&Mi(e)},ar=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(tt[t]+ct+1)*2]++,e.dyn_dtree[Oi(n)*2]++),e.sym_next===e.sym_end);var rr=tr,lr=Hi,or=ir,sr=ar,fr=nr,cr={_tr_init:rr,_tr_stored_block:lr,_tr_flush_block:or,_tr_tally:sr,_tr_align:fr};const dr=(e,n,t,i)=>{let r=e&65535|0,a=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do r=r+n[i++]|0,a=a+r|0;while(--o);r%=65521,a%=65521}return r|a<<16|0};var it=dr;const hr=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},_r=new Uint32Array(hr()),ur=(e,n,t,i)=>{const r=_r,a=i+t;e^=-1;for(let o=i;o<a;o++)e=e>>>8^r[(e^n[o])&255];return e^-1};var j=ur,Ne={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},dt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:gr,_tr_stored_block:rn,_tr_flush_block:br,_tr_tally:he,_tr_align:mr}=cr,{Z_NO_FLUSH:_e,Z_PARTIAL_FLUSH:pr,Z_FULL_FLUSH:wr,Z_FINISH:$,Z_BLOCK:Zn,Z_OK:G,Z_STREAM_END:On,Z_STREAM_ERROR:re,Z_DATA_ERROR:vr,Z_BUF_ERROR:Vt,Z_DEFAULT_COMPRESSION:kr,Z_FILTERED:xr,Z_HUFFMAN_ONLY:bt,Z_RLE:Er,Z_FIXED:yr,Z_DEFAULT_STRATEGY:Sr,Z_UNKNOWN:zr,Z_DEFLATED:Zt}=dt,Tr=9,Ar=15,Ir=8,Rr=29,Dr=256,ln=Dr+1+Rr,Lr=30,Nr=19,Zr=2*ln+1,Or=15,Z=3,de=258,le=de+Z+1,Fr=32,Ze=42,mn=57,on=69,sn=73,fn=91,cn=103,we=113,Xe=666,V=1,Pe=2,xe=3,We=4,Ur=3,ve=(e,n)=>(e.msg=Ne[n],n),Fn=e=>e*2-(e>4?9:0),ce=e=>{let n=e.length;for(;--n>=0;)e[n]=0},Cr=e=>{let n,t,i,r=e.w_size;n=e.hash_size,i=n;do t=e.head[--i],e.head[i]=t>=r?t-r:0;while(--n);n=r,i=n;do t=e.prev[--i],e.prev[i]=t>=r?t-r:0;while(--n)};let Mr=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,ue=Mr;const J=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},Q=(e,n)=>{br(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,J(e.strm)},F=(e,n)=>{e.pending_buf[e.pending++]=n},Ve=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},dn=(e,n,t,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,n.set(e.input.subarray(e.next_in,e.next_in+r),t),e.state.wrap===1?e.adler=it(e.adler,n,r,t):e.state.wrap===2&&(e.adler=j(e.adler,n,r,t)),e.next_in+=r,e.total_in+=r,r)},Bi=(e,n)=>{let t=e.max_chain_length,i=e.strstart,r,a,o=e.prev_length,l=e.nice_match;const _=e.strstart>e.w_size-le?e.strstart-(e.w_size-le):0,s=e.window,f=e.w_mask,E=e.prev,b=e.strstart+de;let d=s[i+o-1],k=s[i+o];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(r=n,!(s[r+o]!==k||s[r+o-1]!==d||s[r]!==s[i]||s[++r]!==s[i+1])){i+=2,r++;do;while(s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&i<b);if(a=de-(b-i),i=b-de,a>o){if(e.match_start=n,o=a,a>=l)break;d=s[i+o-1],k=s[i+o]}}while((n=E[n&f])>_&&--t!==0);return o<=e.lookahead?o:e.lookahead},Oe=e=>{const n=e.w_size;let t,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-le)&&(e.window.set(e.window.subarray(n,n+n-i),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),Cr(e),i+=n),e.strm.avail_in===0)break;if(t=dn(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=Z)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=ue(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=ue(e,e.ins_h,e.window[r+Z-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<Z)););}while(e.lookahead<le&&e.strm.avail_in!==0)},Pi=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,r,a,o=0,l=e.strm.avail_in;do{if(i=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,r=e.strstart-e.block_start,i>r+e.strm.avail_in&&(i=r+e.strm.avail_in),i>a&&(i=a),i<t&&(i===0&&n!==$||n===_e||i!==r+e.strm.avail_in)))break;o=n===$&&i===r+e.strm.avail_in?1:0,rn(e,0,0,o),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,J(e.strm),r&&(r>i&&(r=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,i-=r),i&&(dn(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?We:n!==_e&&n!==$&&e.strm.avail_in===0&&e.strstart===e.block_start?Pe:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(dn(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=t||(r||n===$)&&n!==_e&&e.strm.avail_in===0&&r<=a)&&(i=r>a?a:r,o=n===$&&e.strm.avail_in===0&&i===r?1:0,rn(e,e.block_start,i,o),e.block_start+=i,J(e.strm)),o?xe:V)},Kt=(e,n)=>{let t,i;for(;;){if(e.lookahead<le){if(Oe(e),e.lookahead<le&&n===_e)return V;if(e.lookahead===0)break}if(t=0,e.lookahead>=Z&&(e.ins_h=ue(e,e.ins_h,e.window[e.strstart+Z-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-le&&(e.match_length=Bi(e,t)),e.match_length>=Z)if(i=he(e,e.strstart-e.match_start,e.match_length-Z),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Z){e.match_length--;do e.strstart++,e.ins_h=ue(e,e.ins_h,e.window[e.strstart+Z-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ue(e,e.ins_h,e.window[e.strstart+1]);else i=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Q(e,!1),e.strm.avail_out===0))return V}return e.insert=e.strstart<Z-1?e.strstart:Z-1,n===$?(Q(e,!0),e.strm.avail_out===0?xe:We):e.sym_next&&(Q(e,!1),e.strm.avail_out===0)?V:Pe},Se=(e,n)=>{let t,i,r;for(;;){if(e.lookahead<le){if(Oe(e),e.lookahead<le&&n===_e)return V;if(e.lookahead===0)break}if(t=0,e.lookahead>=Z&&(e.ins_h=ue(e,e.ins_h,e.window[e.strstart+Z-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Z-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-le&&(e.match_length=Bi(e,t),e.match_length<=5&&(e.strategy===xr||e.match_length===Z&&e.strstart-e.match_start>4096)&&(e.match_length=Z-1)),e.prev_length>=Z&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-Z,i=he(e,e.strstart-1-e.prev_match,e.prev_length-Z),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=ue(e,e.ins_h,e.window[e.strstart+Z-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Z-1,e.strstart++,i&&(Q(e,!1),e.strm.avail_out===0))return V}else if(e.match_available){if(i=he(e,0,e.window[e.strstart-1]),i&&Q(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return V}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=he(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Z-1?e.strstart:Z-1,n===$?(Q(e,!0),e.strm.avail_out===0?xe:We):e.sym_next&&(Q(e,!1),e.strm.avail_out===0)?V:Pe},Hr=(e,n)=>{let t,i,r,a;const o=e.window;for(;;){if(e.lookahead<=de){if(Oe(e),e.lookahead<=de&&n===_e)return V;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Z&&e.strstart>0&&(r=e.strstart-1,i=o[r],i===o[++r]&&i===o[++r]&&i===o[++r])){a=e.strstart+de;do;while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<a);e.match_length=de-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Z?(t=he(e,1,e.match_length-Z),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(Q(e,!1),e.strm.avail_out===0))return V}return e.insert=0,n===$?(Q(e,!0),e.strm.avail_out===0?xe:We):e.sym_next&&(Q(e,!1),e.strm.avail_out===0)?V:Pe},Br=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(Oe(e),e.lookahead===0)){if(n===_e)return V;break}if(e.match_length=0,t=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(Q(e,!1),e.strm.avail_out===0))return V}return e.insert=0,n===$?(Q(e,!0),e.strm.avail_out===0?xe:We):e.sym_next&&(Q(e,!1),e.strm.avail_out===0)?V:Pe};function ie(e,n,t,i,r){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=r}const Ye=[new ie(0,0,0,0,Pi),new ie(4,4,8,4,Kt),new ie(4,5,16,8,Kt),new ie(4,6,32,32,Kt),new ie(4,4,16,16,Se),new ie(8,16,32,32,Se),new ie(8,16,128,128,Se),new ie(8,32,128,256,Se),new ie(32,128,258,1024,Se),new ie(32,258,258,4096,Se)],Pr=e=>{e.window_size=2*e.w_size,ce(e.head),e.max_lazy_match=Ye[e.level].max_lazy,e.good_match=Ye[e.level].good_length,e.nice_match=Ye[e.level].nice_length,e.max_chain_length=Ye[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Z-1,e.match_available=0,e.ins_h=0};function Wr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Zt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Zr*2),this.dyn_dtree=new Uint16Array((2*Lr+1)*2),this.bl_tree=new Uint16Array((2*Nr+1)*2),ce(this.dyn_ltree),ce(this.dyn_dtree),ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Or+1),this.heap=new Uint16Array(2*ln+1),ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ln+1),ce(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ht=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.status!==Ze&&n.status!==mn&&n.status!==on&&n.status!==sn&&n.status!==fn&&n.status!==cn&&n.status!==we&&n.status!==Xe?1:0},Wi=e=>{if(ht(e))return ve(e,re);e.total_in=e.total_out=0,e.data_type=zr;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?mn:n.wrap?Ze:we,e.adler=n.wrap===2?0:1,n.last_flush=-2,gr(n),G},ji=e=>{const n=Wi(e);return n===G&&Pr(e.state),n},jr=(e,n)=>ht(e)||e.state.wrap!==2?re:(e.state.gzhead=n,G),Gi=(e,n,t,i,r,a)=>{if(!e)return re;let o=1;if(n===kr&&(n=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>Tr||t!==Zt||i<8||i>15||n<0||n>9||a<0||a>yr||i===8&&o!==1)return ve(e,re);i===8&&(i=9);const l=new Wr;return e.state=l,l.strm=e,l.status=Ze,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Z-1)/Z),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=n,l.strategy=a,l.method=t,ji(e)},Gr=(e,n)=>Gi(e,n,Zt,Ar,Ir,Sr),Vr=(e,n)=>{if(ht(e)||n>Zn||n<0)return e?ve(e,re):re;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Xe&&n!==$)return ve(e,e.avail_out===0?Vt:re);const i=t.last_flush;if(t.last_flush=n,t.pending!==0){if(J(e),e.avail_out===0)return t.last_flush=-1,G}else if(e.avail_in===0&&Fn(n)<=Fn(i)&&n!==$)return ve(e,Vt);if(t.status===Xe&&e.avail_in!==0)return ve(e,Vt);if(t.status===Ze&&t.wrap===0&&(t.status=we),t.status===Ze){let r=Zt+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=bt||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,r|=a<<6,t.strstart!==0&&(r|=Fr),r+=31-r%31,Ve(t,r),t.strstart!==0&&(Ve(t,e.adler>>>16),Ve(t,e.adler&65535)),e.adler=1,t.status=we,J(e),t.pending!==0)return t.last_flush=-1,G}if(t.status===mn){if(e.adler=0,F(t,31),F(t,139),F(t,8),t.gzhead)F(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),F(t,t.gzhead.time&255),F(t,t.gzhead.time>>8&255),F(t,t.gzhead.time>>16&255),F(t,t.gzhead.time>>24&255),F(t,t.level===9?2:t.strategy>=bt||t.level<2?4:0),F(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(F(t,t.gzhead.extra.length&255),F(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=j(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=on;else if(F(t,0),F(t,0),F(t,0),F(t,0),F(t,0),F(t,t.level===9?2:t.strategy>=bt||t.level<2?4:0),F(t,Ur),t.status=we,J(e),t.pending!==0)return t.last_flush=-1,G}if(t.status===on){if(t.gzhead.extra){let r=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(e.adler=j(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=l,J(e),t.pending!==0)return t.last_flush=-1,G;r=0,a-=l}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>r&&(e.adler=j(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=sn}if(t.status===sn){if(t.gzhead.name){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=j(e.adler,t.pending_buf,t.pending-r,r)),J(e),t.pending!==0)return t.last_flush=-1,G;r=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,F(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=j(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=fn}if(t.status===fn){if(t.gzhead.comment){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=j(e.adler,t.pending_buf,t.pending-r,r)),J(e),t.pending!==0)return t.last_flush=-1,G;r=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,F(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=j(e.adler,t.pending_buf,t.pending-r,r))}t.status=cn}if(t.status===cn){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(J(e),t.pending!==0))return t.last_flush=-1,G;F(t,e.adler&255),F(t,e.adler>>8&255),e.adler=0}if(t.status=we,J(e),t.pending!==0)return t.last_flush=-1,G}if(e.avail_in!==0||t.lookahead!==0||n!==_e&&t.status!==Xe){let r=t.level===0?Pi(t,n):t.strategy===bt?Br(t,n):t.strategy===Er?Hr(t,n):Ye[t.level].func(t,n);if((r===xe||r===We)&&(t.status=Xe),r===V||r===xe)return e.avail_out===0&&(t.last_flush=-1),G;if(r===Pe&&(n===pr?mr(t):n!==Zn&&(rn(t,0,0,!1),n===wr&&(ce(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),J(e),e.avail_out===0))return t.last_flush=-1,G}return n!==$?G:t.wrap<=0?On:(t.wrap===2?(F(t,e.adler&255),F(t,e.adler>>8&255),F(t,e.adler>>16&255),F(t,e.adler>>24&255),F(t,e.total_in&255),F(t,e.total_in>>8&255),F(t,e.total_in>>16&255),F(t,e.total_in>>24&255)):(Ve(t,e.adler>>>16),Ve(t,e.adler&65535)),J(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?G:On)},Kr=e=>{if(ht(e))return re;const n=e.state.status;return e.state=null,n===we?ve(e,vr):G},Xr=(e,n)=>{let t=n.length;if(ht(e))return re;const i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==Ze||i.lookahead)return re;if(r===1&&(e.adler=it(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){r===0&&(ce(i.head),i.strstart=0,i.block_start=0,i.insert=0);let _=new Uint8Array(i.w_size);_.set(n.subarray(t-i.w_size,t),0),n=_,t=i.w_size}const a=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,Oe(i);i.lookahead>=Z;){let _=i.strstart,s=i.lookahead-(Z-1);do i.ins_h=ue(i,i.ins_h,i.window[_+Z-1]),i.prev[_&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=_,_++;while(--s);i.strstart=_,i.lookahead=Z-1,Oe(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=Z-1,i.match_available=0,e.next_in=o,e.input=l,e.avail_in=a,i.wrap=r,G};var Yr=Gr,qr=Gi,Jr=ji,Qr=Wi,$r=jr,el=Vr,tl=Kr,nl=Xr,il="pako deflate (from Nodeca project)",Je={deflateInit:Yr,deflateInit2:qr,deflateReset:Jr,deflateResetKeep:Qr,deflateSetHeader:$r,deflate:el,deflateEnd:tl,deflateSetDictionary:nl,deflateInfo:il};const al=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var rl=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)al(t,i)&&(e[i]=t[i])}}return e},ll=e=>{let n=0;for(let i=0,r=e.length;i<r;i++)n+=e[i].length;const t=new Uint8Array(n);for(let i=0,r=0,a=e.length;i<a;i++){let o=e[i];t.set(o,r),r+=o.length}return t},Ot={assign:rl,flattenChunks:ll};let Vi=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Vi=!1}const at=new Uint8Array(256);for(let e=0;e<256;e++)at[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;at[254]=at[254]=1;var ol=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,r,a,o=e.length,l=0;for(r=0;r<o;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(l),a=0,r=0;a<l;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n};const sl=(e,n)=>{if(n<65534&&e.subarray&&Vi)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t};var fl=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,r;const a=new Array(t*2);for(r=0,i=0;i<t;){let o=e[i++];if(o<128){a[r++]=o;continue}let l=at[o];if(l>4){a[r++]=65533,i+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&i<t;)o=o<<6|e[i++]&63,l--;if(l>1){a[r++]=65533;continue}o<65536?a[r++]=o:(o-=65536,a[r++]=55296|o>>10&1023,a[r++]=56320|o&1023)}return sl(a,r)},cl=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+at[e[t]]>n?t:n},rt={string2buf:ol,buf2string:fl,utf8border:cl};function dl(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Ki=dl;const Xi=Object.prototype.toString,{Z_NO_FLUSH:hl,Z_SYNC_FLUSH:_l,Z_FULL_FLUSH:ul,Z_FINISH:gl,Z_OK:At,Z_STREAM_END:bl,Z_DEFAULT_COMPRESSION:ml,Z_DEFAULT_STRATEGY:pl,Z_DEFLATED:wl}=dt;function pn(e){this.options=Ot.assign({level:ml,method:wl,chunkSize:16384,windowBits:15,memLevel:8,strategy:pl},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ki,this.strm.avail_out=0;let t=Je.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==At)throw new Error(Ne[t]);if(n.header&&Je.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=rt.string2buf(n.dictionary):Xi.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=Je.deflateSetDictionary(this.strm,i),t!==At)throw new Error(Ne[t]);this._dict_set=!0}}pn.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize;let r,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?gl:hl,typeof e=="string"?t.input=rt.string2buf(e):Xi.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(a===_l||a===ul)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=Je.deflate(t,a),r===bl)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=Je.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===At;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};pn.prototype.onData=function(e){this.chunks.push(e)};pn.prototype.onEnd=function(e){e===At&&(this.result=Ot.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const mt=16209,vl=16191;var kl=function(n,t){let i,r,a,o,l,_,s,f,E,b,d,k,T,y,S,g,u,h,w,z,c,m,p,x;const I=n.state;i=n.next_in,p=n.input,r=i+(n.avail_in-5),a=n.next_out,x=n.output,o=a-(t-n.avail_out),l=a+(n.avail_out-257),_=I.dmax,s=I.wsize,f=I.whave,E=I.wnext,b=I.window,d=I.hold,k=I.bits,T=I.lencode,y=I.distcode,S=(1<<I.lenbits)-1,g=(1<<I.distbits)-1;e:do{k<15&&(d+=p[i++]<<k,k+=8,d+=p[i++]<<k,k+=8),u=T[d&S];t:for(;;){if(h=u>>>24,d>>>=h,k-=h,h=u>>>16&255,h===0)x[a++]=u&65535;else if(h&16){w=u&65535,h&=15,h&&(k<h&&(d+=p[i++]<<k,k+=8),w+=d&(1<<h)-1,d>>>=h,k-=h),k<15&&(d+=p[i++]<<k,k+=8,d+=p[i++]<<k,k+=8),u=y[d&g];n:for(;;){if(h=u>>>24,d>>>=h,k-=h,h=u>>>16&255,h&16){if(z=u&65535,h&=15,k<h&&(d+=p[i++]<<k,k+=8,k<h&&(d+=p[i++]<<k,k+=8)),z+=d&(1<<h)-1,z>_){n.msg="invalid distance too far back",I.mode=mt;break e}if(d>>>=h,k-=h,h=a-o,z>h){if(h=z-h,h>f&&I.sane){n.msg="invalid distance too far back",I.mode=mt;break e}if(c=0,m=b,E===0){if(c+=s-h,h<w){w-=h;do x[a++]=b[c++];while(--h);c=a-z,m=x}}else if(E<h){if(c+=s+E-h,h-=E,h<w){w-=h;do x[a++]=b[c++];while(--h);if(c=0,E<w){h=E,w-=h;do x[a++]=b[c++];while(--h);c=a-z,m=x}}}else if(c+=E-h,h<w){w-=h;do x[a++]=b[c++];while(--h);c=a-z,m=x}for(;w>2;)x[a++]=m[c++],x[a++]=m[c++],x[a++]=m[c++],w-=3;w&&(x[a++]=m[c++],w>1&&(x[a++]=m[c++]))}else{c=a-z;do x[a++]=x[c++],x[a++]=x[c++],x[a++]=x[c++],w-=3;while(w>2);w&&(x[a++]=x[c++],w>1&&(x[a++]=x[c++]))}}else if(h&64){n.msg="invalid distance code",I.mode=mt;break e}else{u=y[(u&65535)+(d&(1<<h)-1)];continue n}break}}else if(h&64)if(h&32){I.mode=vl;break e}else{n.msg="invalid literal/length code",I.mode=mt;break e}else{u=T[(u&65535)+(d&(1<<h)-1)];continue t}break}}while(i<r&&a<l);w=k>>3,i-=w,k-=w<<3,d&=(1<<k)-1,n.next_in=i,n.next_out=a,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=a<l?257+(l-a):257-(a-l),I.hold=d,I.bits=k};const ze=15,Un=852,Cn=592,Mn=0,Xt=1,Hn=2,xl=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),El=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yl=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Sl=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zl=(e,n,t,i,r,a,o,l)=>{const _=l.bits;let s=0,f=0,E=0,b=0,d=0,k=0,T=0,y=0,S=0,g=0,u,h,w,z,c,m=null,p;const x=new Uint16Array(ze+1),I=new Uint16Array(ze+1);let P=null,q,te,ne;for(s=0;s<=ze;s++)x[s]=0;for(f=0;f<i;f++)x[n[t+f]]++;for(d=_,b=ze;b>=1&&x[b]===0;b--);if(d>b&&(d=b),b===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,l.bits=1,0;for(E=1;E<b&&x[E]===0;E++);for(d<E&&(d=E),y=1,s=1;s<=ze;s++)if(y<<=1,y-=x[s],y<0)return-1;if(y>0&&(e===Mn||b!==1))return-1;for(I[1]=0,s=1;s<ze;s++)I[s+1]=I[s]+x[s];for(f=0;f<i;f++)n[t+f]!==0&&(o[I[n[t+f]]++]=f);if(e===Mn?(m=P=o,p=20):e===Xt?(m=xl,P=El,p=257):(m=yl,P=Sl,p=0),g=0,f=0,s=E,c=a,k=d,T=0,w=-1,S=1<<d,z=S-1,e===Xt&&S>Un||e===Hn&&S>Cn)return 1;for(;;){q=s-T,o[f]+1<p?(te=0,ne=o[f]):o[f]>=p?(te=P[o[f]-p],ne=m[o[f]-p]):(te=96,ne=0),u=1<<s-T,h=1<<k,E=h;do h-=u,r[c+(g>>T)+h]=q<<24|te<<16|ne|0;while(h!==0);for(u=1<<s-1;g&u;)u>>=1;if(u!==0?(g&=u-1,g+=u):g=0,f++,--x[s]===0){if(s===b)break;s=n[t+o[f]]}if(s>d&&(g&z)!==w){for(T===0&&(T=d),c+=E,k=s-T,y=1<<k;k+T<b&&(y-=x[k+T],!(y<=0));)k++,y<<=1;if(S+=1<<k,e===Xt&&S>Un||e===Hn&&S>Cn)return 1;w=g&z,r[w]=d<<24|k<<16|c-a|0}}return g!==0&&(r[c+g]=s-T<<24|64<<16|0),l.bits=d,0};var Qe=zl;const Tl=0,Yi=1,qi=2,{Z_FINISH:Bn,Z_BLOCK:Al,Z_TREES:pt,Z_OK:Ee,Z_STREAM_END:Il,Z_NEED_DICT:Rl,Z_STREAM_ERROR:ee,Z_DATA_ERROR:Ji,Z_MEM_ERROR:Qi,Z_BUF_ERROR:Dl,Z_DEFLATED:Pn}=dt,Ft=16180,Wn=16181,jn=16182,Gn=16183,Vn=16184,Kn=16185,Xn=16186,Yn=16187,qn=16188,Jn=16189,It=16190,oe=16191,Yt=16192,Qn=16193,qt=16194,$n=16195,ei=16196,ti=16197,ni=16198,wt=16199,vt=16200,ii=16201,ai=16202,ri=16203,li=16204,oi=16205,Jt=16206,si=16207,fi=16208,M=16209,$i=16210,ea=16211,Ll=852,Nl=592,Zl=15,Ol=Zl,ci=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Fl(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ye=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<Ft||n.mode>ea?1:0},ta=e=>{if(ye(e))return ee;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=Ft,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(Ll),n.distcode=n.distdyn=new Int32Array(Nl),n.sane=1,n.back=-1,Ee},na=e=>{if(ye(e))return ee;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,ta(e)},ia=(e,n)=>{let t;if(ye(e))return ee;const i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?ee:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,na(e))},aa=(e,n)=>{if(!e)return ee;const t=new Fl;e.state=t,t.strm=e,t.window=null,t.mode=Ft;const i=ia(e,n);return i!==Ee&&(e.state=null),i},Ul=e=>aa(e,Ol);let di=!0,Qt,$t;const Cl=e=>{if(di){Qt=new Int32Array(512),$t=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Qe(Yi,e.lens,0,288,Qt,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Qe(qi,e.lens,0,32,$t,0,e.work,{bits:5}),di=!1}e.lencode=Qt,e.lenbits=9,e.distcode=$t,e.distbits=5},ra=(e,n,t,i)=>{let r;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(n.subarray(t-i,t-i+r),a.wnext),i-=r,i?(a.window.set(n.subarray(t-i,t),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},Ml=(e,n)=>{let t,i,r,a,o,l,_,s,f,E,b,d,k,T,y=0,S,g,u,h,w,z,c,m;const p=new Uint8Array(4);let x,I;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ye(e)||!e.output||!e.input&&e.avail_in!==0)return ee;t=e.state,t.mode===oe&&(t.mode=Yt),o=e.next_out,r=e.output,_=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,s=t.hold,f=t.bits,E=l,b=_,m=Ee;e:for(;;)switch(t.mode){case Ft:if(t.wrap===0){t.mode=Yt;break}for(;f<16;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(t.wrap&2&&s===35615){t.wbits===0&&(t.wbits=15),t.check=0,p[0]=s&255,p[1]=s>>>8&255,t.check=j(t.check,p,2,0),s=0,f=0,t.mode=Wn;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((s&255)<<8)+(s>>8))%31){e.msg="incorrect header check",t.mode=M;break}if((s&15)!==Pn){e.msg="unknown compression method",t.mode=M;break}if(s>>>=4,f-=4,c=(s&15)+8,t.wbits===0&&(t.wbits=c),c>15||c>t.wbits){e.msg="invalid window size",t.mode=M;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=s&512?Jn:oe,s=0,f=0;break;case Wn:for(;f<16;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(t.flags=s,(t.flags&255)!==Pn){e.msg="unknown compression method",t.mode=M;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=M;break}t.head&&(t.head.text=s>>8&1),t.flags&512&&t.wrap&4&&(p[0]=s&255,p[1]=s>>>8&255,t.check=j(t.check,p,2,0)),s=0,f=0,t.mode=jn;case jn:for(;f<32;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.head&&(t.head.time=s),t.flags&512&&t.wrap&4&&(p[0]=s&255,p[1]=s>>>8&255,p[2]=s>>>16&255,p[3]=s>>>24&255,t.check=j(t.check,p,4,0)),s=0,f=0,t.mode=Gn;case Gn:for(;f<16;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.head&&(t.head.xflags=s&255,t.head.os=s>>8),t.flags&512&&t.wrap&4&&(p[0]=s&255,p[1]=s>>>8&255,t.check=j(t.check,p,2,0)),s=0,f=0,t.mode=Vn;case Vn:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.length=s,t.head&&(t.head.extra_len=s),t.flags&512&&t.wrap&4&&(p[0]=s&255,p[1]=s>>>8&255,t.check=j(t.check,p,2,0)),s=0,f=0}else t.head&&(t.head.extra=null);t.mode=Kn;case Kn:if(t.flags&1024&&(d=t.length,d>l&&(d=l),d&&(t.head&&(c=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(a,a+d),c)),t.flags&512&&t.wrap&4&&(t.check=j(t.check,i,d,a)),l-=d,a+=d,t.length-=d),t.length))break e;t.length=0,t.mode=Xn;case Xn:if(t.flags&2048){if(l===0)break e;d=0;do c=i[a+d++],t.head&&c&&t.length<65536&&(t.head.name+=String.fromCharCode(c));while(c&&d<l);if(t.flags&512&&t.wrap&4&&(t.check=j(t.check,i,d,a)),l-=d,a+=d,c)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Yn;case Yn:if(t.flags&4096){if(l===0)break e;d=0;do c=i[a+d++],t.head&&c&&t.length<65536&&(t.head.comment+=String.fromCharCode(c));while(c&&d<l);if(t.flags&512&&t.wrap&4&&(t.check=j(t.check,i,d,a)),l-=d,a+=d,c)break e}else t.head&&(t.head.comment=null);t.mode=qn;case qn:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(t.wrap&4&&s!==(t.check&65535)){e.msg="header crc mismatch",t.mode=M;break}s=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=oe;break;case Jn:for(;f<32;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}e.adler=t.check=ci(s),s=0,f=0,t.mode=It;case It:if(t.havedict===0)return e.next_out=o,e.avail_out=_,e.next_in=a,e.avail_in=l,t.hold=s,t.bits=f,Rl;e.adler=t.check=1,t.mode=oe;case oe:if(n===Al||n===pt)break e;case Yt:if(t.last){s>>>=f&7,f-=f&7,t.mode=Jt;break}for(;f<3;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}switch(t.last=s&1,s>>>=1,f-=1,s&3){case 0:t.mode=Qn;break;case 1:if(Cl(t),t.mode=wt,n===pt){s>>>=2,f-=2;break e}break;case 2:t.mode=ei;break;case 3:e.msg="invalid block type",t.mode=M}s>>>=2,f-=2;break;case Qn:for(s>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if((s&65535)!==(s>>>16^65535)){e.msg="invalid stored block lengths",t.mode=M;break}if(t.length=s&65535,s=0,f=0,t.mode=qt,n===pt)break e;case qt:t.mode=$n;case $n:if(d=t.length,d){if(d>l&&(d=l),d>_&&(d=_),d===0)break e;r.set(i.subarray(a,a+d),o),l-=d,a+=d,_-=d,o+=d,t.length-=d;break}t.mode=oe;break;case ei:for(;f<14;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(t.nlen=(s&31)+257,s>>>=5,f-=5,t.ndist=(s&31)+1,s>>>=5,f-=5,t.ncode=(s&15)+4,s>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=M;break}t.have=0,t.mode=ti;case ti:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.lens[P[t.have++]]=s&7,s>>>=3,f-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,x={bits:t.lenbits},m=Qe(Tl,t.lens,0,19,t.lencode,0,t.work,x),t.lenbits=x.bits,m){e.msg="invalid code lengths set",t.mode=M;break}t.have=0,t.mode=ni;case ni:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[s&(1<<t.lenbits)-1],S=y>>>24,g=y>>>16&255,u=y&65535,!(S<=f);){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(u<16)s>>>=S,f-=S,t.lens[t.have++]=u;else{if(u===16){for(I=S+2;f<I;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(s>>>=S,f-=S,t.have===0){e.msg="invalid bit length repeat",t.mode=M;break}c=t.lens[t.have-1],d=3+(s&3),s>>>=2,f-=2}else if(u===17){for(I=S+3;f<I;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}s>>>=S,f-=S,c=0,d=3+(s&7),s>>>=3,f-=3}else{for(I=S+7;f<I;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}s>>>=S,f-=S,c=0,d=11+(s&127),s>>>=7,f-=7}if(t.have+d>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=M;break}for(;d--;)t.lens[t.have++]=c}}if(t.mode===M)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=M;break}if(t.lenbits=9,x={bits:t.lenbits},m=Qe(Yi,t.lens,0,t.nlen,t.lencode,0,t.work,x),t.lenbits=x.bits,m){e.msg="invalid literal/lengths set",t.mode=M;break}if(t.distbits=6,t.distcode=t.distdyn,x={bits:t.distbits},m=Qe(qi,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,x),t.distbits=x.bits,m){e.msg="invalid distances set",t.mode=M;break}if(t.mode=wt,n===pt)break e;case wt:t.mode=vt;case vt:if(l>=6&&_>=258){e.next_out=o,e.avail_out=_,e.next_in=a,e.avail_in=l,t.hold=s,t.bits=f,kl(e,b),o=e.next_out,r=e.output,_=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,s=t.hold,f=t.bits,t.mode===oe&&(t.back=-1);break}for(t.back=0;y=t.lencode[s&(1<<t.lenbits)-1],S=y>>>24,g=y>>>16&255,u=y&65535,!(S<=f);){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(g&&!(g&240)){for(h=S,w=g,z=u;y=t.lencode[z+((s&(1<<h+w)-1)>>h)],S=y>>>24,g=y>>>16&255,u=y&65535,!(h+S<=f);){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}s>>>=h,f-=h,t.back+=h}if(s>>>=S,f-=S,t.back+=S,t.length=u,g===0){t.mode=oi;break}if(g&32){t.back=-1,t.mode=oe;break}if(g&64){e.msg="invalid literal/length code",t.mode=M;break}t.extra=g&15,t.mode=ii;case ii:if(t.extra){for(I=t.extra;f<I;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.length+=s&(1<<t.extra)-1,s>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ai;case ai:for(;y=t.distcode[s&(1<<t.distbits)-1],S=y>>>24,g=y>>>16&255,u=y&65535,!(S<=f);){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(!(g&240)){for(h=S,w=g,z=u;y=t.distcode[z+((s&(1<<h+w)-1)>>h)],S=y>>>24,g=y>>>16&255,u=y&65535,!(h+S<=f);){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}s>>>=h,f-=h,t.back+=h}if(s>>>=S,f-=S,t.back+=S,g&64){e.msg="invalid distance code",t.mode=M;break}t.offset=u,t.extra=g&15,t.mode=ri;case ri:if(t.extra){for(I=t.extra;f<I;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.offset+=s&(1<<t.extra)-1,s>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=M;break}t.mode=li;case li:if(_===0)break e;if(d=b-_,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=M;break}d>t.wnext?(d-=t.wnext,k=t.wsize-d):k=t.wnext-d,d>t.length&&(d=t.length),T=t.window}else T=r,k=o-t.offset,d=t.length;d>_&&(d=_),_-=d,t.length-=d;do r[o++]=T[k++];while(--d);t.length===0&&(t.mode=vt);break;case oi:if(_===0)break e;r[o++]=t.length,_--,t.mode=vt;break;case Jt:if(t.wrap){for(;f<32;){if(l===0)break e;l--,s|=i[a++]<<f,f+=8}if(b-=_,e.total_out+=b,t.total+=b,t.wrap&4&&b&&(e.adler=t.check=t.flags?j(t.check,r,b,o-b):it(t.check,r,b,o-b)),b=_,t.wrap&4&&(t.flags?s:ci(s))!==t.check){e.msg="incorrect data check",t.mode=M;break}s=0,f=0}t.mode=si;case si:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(t.wrap&4&&s!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=M;break}s=0,f=0}t.mode=fi;case fi:m=Il;break e;case M:m=Ji;break e;case $i:return Qi;case ea:default:return ee}return e.next_out=o,e.avail_out=_,e.next_in=a,e.avail_in=l,t.hold=s,t.bits=f,(t.wsize||b!==e.avail_out&&t.mode<M&&(t.mode<Jt||n!==Bn))&&ra(e,e.output,e.next_out,b-e.avail_out),E-=e.avail_in,b-=e.avail_out,e.total_in+=E,e.total_out+=b,t.total+=b,t.wrap&4&&b&&(e.adler=t.check=t.flags?j(t.check,r,b,e.next_out-b):it(t.check,r,b,e.next_out-b)),e.data_type=t.bits+(t.last?64:0)+(t.mode===oe?128:0)+(t.mode===wt||t.mode===qt?256:0),(E===0&&b===0||n===Bn)&&m===Ee&&(m=Dl),m},Hl=e=>{if(ye(e))return ee;let n=e.state;return n.window&&(n.window=null),e.state=null,Ee},Bl=(e,n)=>{if(ye(e))return ee;const t=e.state;return t.wrap&2?(t.head=n,n.done=!1,Ee):ee},Pl=(e,n)=>{const t=n.length;let i,r,a;return ye(e)||(i=e.state,i.wrap!==0&&i.mode!==It)?ee:i.mode===It&&(r=1,r=it(r,n,t,0),r!==i.check)?Ji:(a=ra(e,n,t,t),a?(i.mode=$i,Qi):(i.havedict=1,Ee))};var Wl=na,jl=ia,Gl=ta,Vl=Ul,Kl=aa,Xl=Ml,Yl=Hl,ql=Bl,Jl=Pl,Ql="pako inflate (from Nodeca project)",fe={inflateReset:Wl,inflateReset2:jl,inflateResetKeep:Gl,inflateInit:Vl,inflateInit2:Kl,inflate:Xl,inflateEnd:Yl,inflateGetHeader:ql,inflateSetDictionary:Jl,inflateInfo:Ql};function $l(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var eo=$l;const la=Object.prototype.toString,{Z_NO_FLUSH:to,Z_FINISH:no,Z_OK:lt,Z_STREAM_END:en,Z_NEED_DICT:tn,Z_STREAM_ERROR:io,Z_DATA_ERROR:hi,Z_MEM_ERROR:ao}=dt;function _t(e){this.options=Ot.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ki,this.strm.avail_out=0;let t=fe.inflateInit2(this.strm,n.windowBits);if(t!==lt)throw new Error(Ne[t]);if(this.header=new eo,fe.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=rt.string2buf(n.dictionary):la.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=fe.inflateSetDictionary(this.strm,n.dictionary),t!==lt)))throw new Error(Ne[t])}_t.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(n===~~n?o=n:o=n===!0?no:to,la.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),a=fe.inflate(t,o),a===tn&&r&&(a=fe.inflateSetDictionary(t,r),a===lt?a=fe.inflate(t,o):a===hi&&(a=tn));t.avail_in>0&&a===en&&t.state.wrap>0&&e[t.next_in]!==0;)fe.inflateReset(t),a=fe.inflate(t,o);switch(a){case io:case hi:case tn:case ao:return this.onEnd(a),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||a===en))if(this.options.to==="string"){let _=rt.utf8border(t.output,t.next_out),s=t.next_out-_,f=rt.buf2string(t.output,_);t.next_out=s,t.avail_out=i-s,s&&t.output.set(t.output.subarray(_,_+s),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===lt&&l===0)){if(a===en)return a=fe.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};_t.prototype.onData=function(e){this.chunks.push(e)};_t.prototype.onEnd=function(e){e===lt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ot.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function wn(e,n){const t=new _t(n);if(t.push(e),t.err)throw t.msg||Ne[t.err];return t.result}function ro(e,n){return n=n||{},n.raw=!0,wn(e,n)}var lo=_t,oo=wn,so=ro,fo=wn,co=dt,ho={Inflate:lo,inflate:oo,inflateRaw:so,ungzip:fo,constants:co};const{Inflate:Zo,inflate:Oo,inflateRaw:Fo,ungzip:_o}=ho;var uo=_o;function _i(e,n,t){const i=e.slice();return i[15]=n[t][0],i[16]=n[t][1].isTreatment,i[18]=t,i}function ui(e){let n,t,i;return t=new Si({props:{type:"Reference",filename:e[3].filename,onRemove:Ke.reset}}),{c(){n=D("div"),Ue(t.$$.fragment),this.h()},l(r){n=L(r,"DIV",{class:!0});var a=O(n);Ce(t.$$.fragment,a),a.forEach(R),this.h()},h(){A(n,"class","m-2 w-full md:w-auto")},m(r,a){B(r,n,a),Me(t,n,null),i=!0},p(r,a){const o={};a&8&&(o.filename=r[3].filename),t.$set(o)},i(r){i||(U(t.$$.fragment,r),i=!0)},o(r){H(t.$$.fragment,r),i=!1},d(r){r&&R(n),He(t)}}}function gi(e){let n,t,i;return t=new Si({props:{type:"Annotations",chip:"variant-soft-warning",filename:e[2].filename,onRemove:kt.reset}}),{c(){n=D("div"),Ue(t.$$.fragment),this.h()},l(r){n=L(r,"DIV",{class:!0});var a=O(n);Ce(t.$$.fragment,a),a.forEach(R),this.h()},h(){A(n,"class","m-2 w-full md:w-auto")},m(r,a){B(r,n,a),Me(t,n,null),i=!0},p(r,a){const o={};a&4&&(o.filename=r[2].filename),t.$set(o)},i(r){i||(U(t.$$.fragment,r),i=!0)},o(r){H(t.$$.fragment,r),i=!1},d(r){r&&R(n),He(t)}}}function bi(e){let n,t,i,r;function a(...l){return e[6](e[15],...l)}function o(){return e[7](e[15])}return t=new La({props:{isTreatment:e[16],onToggle:a,onRemove:o,filename:e[15]}}),{c(){n=D("div"),Ue(t.$$.fragment),i=K(),this.h()},l(l){n=L(l,"DIV",{class:!0});var _=O(n);Ce(t.$$.fragment,_),i=X(_),_.forEach(R),this.h()},h(){A(n,"class","m-2 w-full md:w-auto")},m(l,_){B(l,n,_),Me(t,n,null),N(n,i),r=!0},p(l,_){e=l;const s={};_&16&&(s.isTreatment=e[16]),_&16&&(s.onToggle=a),_&16&&(s.onRemove=o),_&16&&(s.filename=e[15]),t.$set(s)},i(l){r||(U(t.$$.fragment,l),r=!0)},o(l){H(t.$$.fragment,l),r=!1},d(l){l&&R(n),He(t)}}}function go(e){let n,t,i;function r(o){e[8](o)}let a={padding:"py-4",name:"files",multiple:!0,$$slots:{meta:[wo],message:[po],lead:[mo]},$$scope:{ctx:e}};return e[0]!==void 0&&(a.files=e[0]),n=new ka({props:a}),hn.push(()=>Ei(n,"files",r)),n.$on("change",e[5]),n.$on("click",mi),n.$on("drop",mi),{c(){Ue(n.$$.fragment)},l(o){Ce(n.$$.fragment,o)},m(o,l){Me(n,o,l),i=!0},p(o,l){const _={};l&524288&&(_.$$scope={dirty:l,ctx:o}),!t&&l&1&&(t=!0,_.files=o[0],xi(()=>t=!1)),n.$set(_)},i(o){i||(U(n.$$.fragment,o),i=!0)},o(o){H(n.$$.fragment,o),i=!1},d(o){He(n,o)}}}function bo(e){let n,t,i;return t=new da({props:{value:void 0,width:"w-16",strokeLinecap:"round"}}),{c(){n=D("div"),Ue(t.$$.fragment),this.h()},l(r){n=L(r,"DIV",{class:!0});var a=O(n);Ce(t.$$.fragment,a),a.forEach(R),this.h()},h(){A(n,"class","flex items-center justify-center align-middle")},m(r,a){B(r,n,a),Me(t,n,null),i=!0},p:Le,i(r){i||(U(t.$$.fragment,r),i=!0)},o(r){H(t.$$.fragment,r),i=!1},d(r){r&&R(n),He(t)}}}function mo(e){let n,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"></path></svg>';return{c(){n=D("div"),n.innerHTML=t,this.h()},l(i){n=L(i,"DIV",{class:!0,"data-svelte-h":!0}),Fe(n)!=="svelte-1rqym4e"&&(n.innerHTML=t),this.h()},h(){A(n,"class","flex justify-center")},m(i,r){B(i,n,r)},p:Le,d(i){i&&R(n)}}}function po(e){let n,t='<span class="font-semibold">Load files</span> or drag and drop';return{c(){n=D("p"),n.innerHTML=t,this.h()},l(i){n=L(i,"P",{class:!0,"data-svelte-h":!0}),Fe(n)!=="svelte-10huz8u"&&(n.innerHTML=t),this.h()},h(){A(n,"class","text-xl")},m(i,r){B(i,n,r)},p:Le,d(i){i&&R(n)}}}function wo(e){let n;return{c(){n=Re("GENBANK, GFF, FASTA, WIG and UserPlot files allowed (.gz supported).")},l(t){n=De(t,"GENBANK, GFF, FASTA, WIG and UserPlot files allowed (.gz supported).")},m(t,i){B(t,n,i)},d(t){t&&R(n)}}}function vo(e){let n,t='<div class="flex flex-col items-center align-baseline justify-center max-w-5xl space-y-4"><figure class="card-hover rounded-full svelte-p9o3ma"><div><section class="img-bg svelte-p9o3ma"></section></div> <img class="logo-img mt-8 svelte-p9o3ma" src="/images/logo.webp" alt="Skeleton Logo"/></figure> <div class="text-center mx-2"><h1 class="text-6xl mb-1">Diana</h1> <p class="text-xl">A WebAssembly-Powered Tool for Transposon-Insertion Sequencing Data Exploration and Analysis</p></div></div>',i,r,a,o,l,_,s,f,E,b,d,k,T=e[3].filename&&ui(e),y=e[2].filename&&gi(e),S=vn(Array.from(e[4].entries()).sort(pi)),g=[];for(let c=0;c<S.length;c+=1)g[c]=bi(_i(e,S,c));const u=c=>H(g[c],1,1,()=>{g[c]=null}),h=[bo,go],w=[];function z(c,m){return c[1]?0:1}return b=z(e),d=w[b]=h[b](e),{c(){n=D("div"),n.innerHTML=t,i=K(),r=D("div"),a=D("div"),T&&T.c(),o=K(),y&&y.c(),l=K(),_=D("div");for(let c=0;c<g.length;c+=1)g[c].c();s=K(),f=D("div"),E=D("div"),d.c(),this.h()},l(c){n=L(c,"DIV",{class:!0,"data-svelte-h":!0}),Fe(n)!=="svelte-10tm4r4"&&(n.innerHTML=t),i=X(c),r=L(c,"DIV",{class:!0});var m=O(r);a=L(m,"DIV",{class:!0});var p=O(a);T&&T.l(p),o=X(p),y&&y.l(p),p.forEach(R),l=X(m),_=L(m,"DIV",{class:!0});var x=O(_);for(let q=0;q<g.length;q+=1)g[q].l(x);x.forEach(R),m.forEach(R),s=X(c),f=L(c,"DIV",{class:!0});var I=O(f);E=L(I,"DIV",{class:!0});var P=O(E);d.l(P),P.forEach(R),I.forEach(R),this.h()},h(){A(n,"class","flex justify-center mb-2"),A(a,"class","flex flex-wrap justify-center w-full"),A(_,"class","flex flex-wrap justify-center"),A(r,"class","flex flex-col justify-center items-center mb-4"),A(E,"class","w-full max-w-3xl mx-4 mb-4"),A(f,"class","flex justify-center")},m(c,m){B(c,n,m),B(c,i,m),B(c,r,m),N(r,a),T&&T.m(a,null),N(a,o),y&&y.m(a,null),N(r,l),N(r,_);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(_,null);B(c,s,m),B(c,f,m),N(f,E),w[b].m(E,null),k=!0},p(c,[m]){if(c[3].filename?T?(T.p(c,m),m&8&&U(T,1)):(T=ui(c),T.c(),U(T,1),T.m(a,o)):T&&(be(),H(T,1,1,()=>{T=null}),me()),c[2].filename?y?(y.p(c,m),m&4&&U(y,1)):(y=gi(c),y.c(),U(y,1),y.m(a,null)):y&&(be(),H(y,1,1,()=>{y=null}),me()),m&16){S=vn(Array.from(c[4].entries()).sort(pi));let x;for(x=0;x<S.length;x+=1){const I=_i(c,S,x);g[x]?(g[x].p(I,m),U(g[x],1)):(g[x]=bi(I),g[x].c(),U(g[x],1),g[x].m(_,null))}for(be(),x=S.length;x<g.length;x+=1)u(x);me()}let p=b;b=z(c),b===p?w[b].p(c,m):(be(),H(w[p],1,1,()=>{w[p]=null}),me(),d=w[b],d?d.p(c,m):(d=w[b]=h[b](c),d.c()),U(d,1),d.m(E,null))},i(c){if(!k){U(T),U(y);for(let m=0;m<S.length;m+=1)U(g[m]);U(d),k=!0}},o(c){H(T),H(y),g=g.filter(Boolean);for(let m=0;m<g.length;m+=1)H(g[m]);H(d),k=!1},d(c){c&&(R(n),R(i),R(r),R(s),R(f)),T&&T.d(),y&&y.d(),sa(g,c),w[b].d()}}}function ko(e){const n=e.split(`
`);let t="",i="",r=!1;for(const a of n){if(a.startsWith("##")&&a.includes("FASTA")){r=!0;continue}r&&(a.startsWith(">")?(i&&(t+=i+`
`),i=a+`
`):i+=a.trim())}return i&&(t+=i+`
`),t.trim()}function mi(){const e=document.getElementsByName("files")[0];e.value=""}const pi=([e],[n])=>e.localeCompare(n);function xo(e,n,t){let i,r,a,o;ut(e,kt,g=>t(2,i=g)),ut(e,gt,g=>t(9,r=g)),ut(e,Ke,g=>t(3,a=g)),ut(e,Ge,g=>t(4,o=g));const l=ca();let _,s=!1;function f(g){try{return uo(g,{to:"string"})}catch(u){throw new Error(`Failed to decompress gzip data: ${u}`)}}async function E(g,u){const h=ke(g);if(h.endsWith(".gb")||h.endsWith(".gbk")||h.endsWith(".genbank")){let w="",z="";try{const c=Ca(u);w=c.gff,z=c.fasta}catch(c){console.error("Error converting GenBank file:",c);const p={message:"Error converting GenBank file: "+c,background:"variant-glass-error"};throw l.trigger(p),new Error("Error converting GenBank file: "+c)}await kt.load(g,w),Ht(gt,r.locus=void 0,r),z.length>0&&(await Ke.load(g,z).catch(c=>{console.error("Error loading reference:",c);const p={message:"Error loading reference: "+c,background:"variant-glass-error"};l.trigger(p)}),await Bt.load(z))}else if(h.endsWith(".gff")||h.endsWith(".gff3")){await kt.load(g,u).catch(z=>{console.error("Error loading annotations:",z);const m={message:"Error loading annotations: "+z,background:"variant-glass-error"};throw l.trigger(m),new Error("Error loading annotations: "+z)}),Ht(gt,r.locus=void 0,r);const w=ko(u);w.length>0&&(await Ke.load(g,w).catch(z=>{console.error("Error loading reference:",z);const m={message:"Error loading reference: "+z,background:"variant-glass-error"};l.trigger(m)}),await Bt.load(w))}else if(h.endsWith(".fasta")||h.endsWith(".fa")||h.endsWith(".fna"))await Ke.load(g,u),await Bt.load(u),Ht(gt,r.locus=void 0,r);else if(h.endsWith(".wig")||h.endsWith(".wiggle"))await Ge.load(g,u);else if(h.endsWith(".userplot")||h.endsWith(".plot")){const w=i.chromosomes.keys().next().value;if(w){const z={message:`Converting UserPlot file '${g}' to Wig Format. Assuming the first chromosome in the annotations is the reference chromosome`,background:"variant-glass-warning"};l.trigger(z);const c=await Ma(u,w);await Ge.load(g,c)}else{console.error("No chromosome found in annotations");const c={message:"Please load annotations before loading userplot files",background:"variant-glass-error"};throw l.trigger(c),new Error("No chromosome found in annotations")}}else{console.error("Unsupported file type:",g);const z={message:"Unsupported file type: "+g,background:"variant-glass-error"};throw l.trigger(z),new Error("Unsupported file type: "+g)}}async function b(g){try{const u=await fetch(g);if(!u.ok)throw new Error(`Failed to fetch ${g}: ${u.statusText}`);const h=g.split("/").pop()||g;let w;if(h.endsWith(".gz")){const z=await u.arrayBuffer(),c=new Uint8Array(z);w=f(c)}else w=await u.text();await E(h,w)}catch(u){console.error("Error loading file from URL:",u);const w={message:"Error loading file from URL: "+u,background:"variant-glass-error"};throw l.trigger(w),u}}async function d(g){var u;t(1,s=!0);try{const h=[],w=[],z=[];for(const c of g){const m=((u=c.split("/").pop())==null?void 0:u.toLowerCase())||"",p=ke(m);p.endsWith(".fasta")||p.endsWith(".fa")||p.endsWith(".fna")?h.push(c):p.endsWith(".gb")||p.endsWith(".gbk")||p.endsWith(".genbank")||p.endsWith(".gff")||p.endsWith(".gff3")?w.push(c):(p.endsWith(".wig")||p.endsWith(".wiggle")||p.endsWith(".userplot")||p.endsWith(".plot"),z.push(c))}await Promise.all([...h.map(c=>b(c)),...w.map(c=>b(c))]),await Promise.all(z.map(c=>b(c)))}catch(h){console.error("Error loading files from URLs:",h)}finally{t(1,s=!1)}}fa(()=>{if(typeof window<"u"){const u=new URLSearchParams(window.location.search).get("data");if(u){const h=u.split(",").map(w=>w.trim()).filter(w=>w.length>0);h.length>0&&d(h)}}});function k(g){if(!_||_.length===0)return;t(1,s=!0);const u=[],h=[],w=[];for(let c=0;c<_.length;c++){const m=_[c],p=m.name.toLowerCase(),x=ke(p);x.endsWith(".fasta")||x.endsWith(".fa")||x.endsWith(".fna")?u.push(m):x.endsWith(".gb")||x.endsWith(".gbk")||x.endsWith(".genbank")||x.endsWith(".gff")||x.endsWith(".gff3")?h.push(m):w.push(m)}const z=c=>new Promise((m,p)=>{const x=new FileReader;x.onload=async I=>{var q,te,ne;let P;if(c.name.endsWith(".gz")){const ge=(q=I.target)==null?void 0:q.result,je=new Uint8Array(ge);P=f(je)}else P=(ne=(te=I.target)==null?void 0:te.result)==null?void 0:ne.toString();try{await E(c.name,P),m()}catch(ge){p(ge)}},c.name.endsWith(".gz")?x.readAsArrayBuffer(c):x.readAsText(c)});Promise.all([...u.map(c=>z(c)),...h.map(c=>z(c))]).then(()=>Promise.all(w.map(c=>z(c)))).then(()=>{t(1,s=!1)}).catch(c=>{console.error("Error reading files:",c),t(1,s=!1)})}const T=(g,u)=>Ge.setIsTreatment(g,u),y=g=>Ge.remove(g);function S(g){_=g,t(0,_)}return[_,s,i,a,o,k,T,y,S]}class Uo extends st{constructor(n){super(),ft(this,n,xo,vo,ot,{})}}export{Uo as component};
