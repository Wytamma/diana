import{s as Fe,c as Pe,n as Ce}from"../chunks/scheduler.CkvNFtTO.js";import{S as He,i as Ie,e as S,o as b,s as m,c as y,a as R,p as w,f as u,d as f,l as Se,g as M,h as a,q as E,m as T,n as B,r as D,u as Le,t as j,b as A,j as $e}from"../chunks/index.C5AUI8_b.js";import{e as Re}from"../chunks/each.DeNHq1dd.js";import{S as Ve,R as Ge,T as oe,a as me,b as Ue,P as Ye,D as ze}from"../chunks/Datatable.svelte_svelte_type_style_lang.D8m-xYG6.js";import{a as Je}from"../chunks/annotationStore.CW3TlMex.js";function je(n,e,t){const s=n.slice();return s[5]=e[t],s}function Ae(n,e,t){const s=n.slice();return s[8]=e[t],s}function Ke(n){let e;return{c(){e=j("Seqname")},l(t){e=A(t,"Seqname")},m(t,s){M(t,e,s)},d(t){t&&f(e)}}}function Me(n){let e;return{c(){e=j("Source")},l(t){e=A(t,"Source")},m(t,s){M(t,e,s)},d(t){t&&f(e)}}}function Qe(n){let e;return{c(){e=j("Name")},l(t){e=A(t,"Name")},m(t,s){M(t,e,s)},d(t){t&&f(e)}}}function We(n){let e;return{c(){e=j("Type")},l(t){e=A(t,"Type")},m(t,s){M(t,e,s)},d(t){t&&f(e)}}}function Xe(n){let e;return{c(){e=j("Start")},l(t){e=A(t,"Start")},m(t,s){M(t,e,s)},d(t){t&&f(e)}}}function Ze(n){let e;return{c(){e=j("End")},l(t){e=A(t,"End")},m(t,s){M(t,e,s)},d(t){t&&f(e)}}}function xe(n){let e;return{c(){e=j("Strand")},l(t){e=A(t,"Strand")},m(t,s){M(t,e,s)},d(t){t&&f(e)}}}function et(n){let e;return{c(){e=j("Attributes")},l(t){e=A(t,"Attributes")},m(t,s){M(t,e,s)},d(t){t&&f(e)}}}function Oe(n){let e,t=n[8]+"",s,i,p=n[5].attributes[n[8]]+"",P;return{c(){e=S("li"),s=j(t),i=j(": "),P=j(p)},l(h){e=y(h,"LI",{});var d=R(e);s=A(d,t),i=A(d,": "),P=A(d,p),d.forEach(f)},m(h,d){M(h,e,d),a(e,s),a(e,i),a(e,P)},p(h,d){d&1&&t!==(t=h[8]+"")&&$e(s,t),d&1&&p!==(p=h[5].attributes[h[8]]+"")&&$e(P,p)},d(h){h&&f(e)}}}function Ne(n){let e,t,s=n[5].seqname+"",i,p,P,h=n[5].source+"",d,c,N,ee=n[5].attributes.Name+"",V,ue,F,te=n[5].type+"",G,he,H,re=n[5].start+"",U,ge,I,ne=n[5].end+"",Y,de,_,z=n[5].strand+"",fe,Q,ae,L,ie,C=Re(Object.keys(n[5].attributes)),v=[];for(let l=0;l<C.length;l+=1)v[l]=Oe(Ae(n,C,l));return{c(){e=S("tr"),t=S("td"),i=j(s),p=m(),P=S("td"),d=j(h),c=m(),N=S("td"),V=j(ee),ue=m(),F=S("td"),G=j(te),he=m(),H=S("td"),U=j(re),ge=m(),I=S("td"),Y=j(ne),de=m(),_=S("td"),fe=j(z),Q=m(),ae=S("td"),L=S("ul");for(let l=0;l<v.length;l+=1)v[l].c();ie=m()},l(l){e=y(l,"TR",{});var $=R(e);t=y($,"TD",{});var o=R(t);i=A(o,s),o.forEach(f),p=u($),P=y($,"TD",{});var se=R(P);d=A(se,h),se.forEach(f),c=u($),N=y($,"TD",{});var Z=R(N);V=A(Z,ee),Z.forEach(f),ue=u($),F=y($,"TD",{});var be=R(F);G=A(be,te),be.forEach(f),he=u($),H=y($,"TD",{});var x=R(H);U=A(x,re),x.forEach(f),ge=u($),I=y($,"TD",{});var we=R(I);Y=A(we,ne),we.forEach(f),de=u($),_=y($,"TD",{});var le=R(_);fe=A(le,z),le.forEach(f),Q=u($),ae=y($,"TD",{});var Ee=R(ae);L=y(Ee,"UL",{});var W=R(L);for(let X=0;X<v.length;X+=1)v[X].l(W);W.forEach(f),Ee.forEach(f),ie=u($),$.forEach(f)},m(l,$){M(l,e,$),a(e,t),a(t,i),a(e,p),a(e,P),a(P,d),a(e,c),a(e,N),a(N,V),a(e,ue),a(e,F),a(F,G),a(e,he),a(e,H),a(H,U),a(e,ge),a(e,I),a(I,Y),a(e,de),a(e,_),a(_,fe),a(e,Q),a(e,ae),a(ae,L);for(let o=0;o<v.length;o+=1)v[o]&&v[o].m(L,null);a(e,ie)},p(l,$){if($&1&&s!==(s=l[5].seqname+"")&&$e(i,s),$&1&&h!==(h=l[5].source+"")&&$e(d,h),$&1&&ee!==(ee=l[5].attributes.Name+"")&&$e(V,ee),$&1&&te!==(te=l[5].type+"")&&$e(G,te),$&1&&re!==(re=l[5].start+"")&&$e(U,re),$&1&&ne!==(ne=l[5].end+"")&&$e(Y,ne),$&1&&z!==(z=l[5].strand+"")&&$e(fe,z),$&1){C=Re(Object.keys(l[5].attributes));let o;for(o=0;o<C.length;o+=1){const se=Ae(l,C,o);v[o]?v[o].p(se,$):(v[o]=Oe(se),v[o].c(),v[o].m(L,null))}for(;o<v.length;o+=1)v[o].d(1);v.length=C.length}},d(l){l&&f(e),Le(v,l)}}}function tt(n){let e,t,s,i,p,P,h,d,c,N,ee,V,ue,F,te,G,he,H,re,U,ge,I,ne,Y,de,_,z,fe,Q,ae,L,ie,C,v,l,$,o,se,Z,be,x,we,le,Ee,W,X,qe,_e,ye;s=new Ve({props:{handler:n[1]}}),p=new Ge({props:{handler:n[1]}}),N=new oe({props:{handler:n[1],orderBy:"seqname",$$slots:{default:[Ke]},$$scope:{ctx:n}}}),V=new oe({props:{handler:n[1],orderBy:"source",$$slots:{default:[Me]},$$scope:{ctx:n}}}),F=new oe({props:{handler:n[1],orderBy:"attributes",$$slots:{default:[Qe]},$$scope:{ctx:n}}}),G=new oe({props:{handler:n[1],orderBy:"type",$$slots:{default:[We]},$$scope:{ctx:n}}}),H=new oe({props:{handler:n[1],orderBy:"start",$$slots:{default:[Xe]},$$scope:{ctx:n}}}),U=new oe({props:{handler:n[1],orderBy:"end",$$slots:{default:[Ze]},$$scope:{ctx:n}}}),I=new oe({props:{handler:n[1],orderBy:"strand",$$slots:{default:[xe]},$$scope:{ctx:n}}}),Y=new oe({props:{handler:n[1],orderBy:"attributes",$$slots:{default:[et]},$$scope:{ctx:n}}}),z=new me({props:{handler:n[1],filterBy:"seqname"}}),Q=new me({props:{handler:n[1],filterBy:"source"}}),L=new me({props:{handler:n[1],filterBy:"attributes"}}),C=new me({props:{handler:n[1],filterBy:"type"}}),l=new me({props:{handler:n[1],filterBy:"start"}}),o=new me({props:{handler:n[1],filterBy:"end"}}),Z=new me({props:{handler:n[1],filterBy:"strand"}}),x=new me({props:{handler:n[1],filterBy:"attributes"}});let Te=Re(n[0]),O=[];for(let r=0;r<Te.length;r+=1)O[r]=Ne(je(n,Te,r));return X=new Ue({props:{handler:n[1]}}),_e=new Ye({props:{handler:n[1]}}),{c(){e=S("div"),t=S("header"),b(s.$$.fragment),i=m(),b(p.$$.fragment),P=m(),h=S("table"),d=S("thead"),c=S("tr"),b(N.$$.fragment),ee=m(),b(V.$$.fragment),ue=m(),b(F.$$.fragment),te=m(),b(G.$$.fragment),he=m(),b(H.$$.fragment),re=m(),b(U.$$.fragment),ge=m(),b(I.$$.fragment),ne=m(),b(Y.$$.fragment),de=m(),_=S("tr"),b(z.$$.fragment),fe=m(),b(Q.$$.fragment),ae=m(),b(L.$$.fragment),ie=m(),b(C.$$.fragment),v=m(),b(l.$$.fragment),$=m(),b(o.$$.fragment),se=m(),b(Z.$$.fragment),be=m(),b(x.$$.fragment),we=m(),le=S("tbody");for(let r=0;r<O.length;r+=1)O[r].c();Ee=m(),W=S("footer"),b(X.$$.fragment),qe=m(),b(_e.$$.fragment),this.h()},l(r){e=y(r,"DIV",{class:!0});var g=R(e);t=y(g,"HEADER",{class:!0});var J=R(t);w(s.$$.fragment,J),i=u(J),w(p.$$.fragment,J),J.forEach(f),P=u(g),h=y(g,"TABLE",{class:!0});var pe=R(h);d=y(pe,"THEAD",{});var ce=R(d);c=y(ce,"TR",{});var q=R(c);w(N.$$.fragment,q),ee=u(q),w(V.$$.fragment,q),ue=u(q),w(F.$$.fragment,q),te=u(q),w(G.$$.fragment,q),he=u(q),w(H.$$.fragment,q),re=u(q),w(U.$$.fragment,q),ge=u(q),w(I.$$.fragment,q),ne=u(q),w(Y.$$.fragment,q),q.forEach(f),de=u(ce),_=y(ce,"TR",{});var k=R(_);w(z.$$.fragment,k),fe=u(k),w(Q.$$.fragment,k),ae=u(k),w(L.$$.fragment,k),ie=u(k),w(C.$$.fragment,k),v=u(k),w(l.$$.fragment,k),$=u(k),w(o.$$.fragment,k),se=u(k),w(Z.$$.fragment,k),be=u(k),w(x.$$.fragment,k),k.forEach(f),ce.forEach(f),we=u(pe),le=y(pe,"TBODY",{});var De=R(le);for(let Be=0;Be<O.length;Be+=1)O[Be].l(De);De.forEach(f),pe.forEach(f),Ee=u(g),W=y(g,"FOOTER",{class:!0});var ve=R(W);w(X.$$.fragment,ve),qe=u(ve),w(_e.$$.fragment,ve),ve.forEach(f),g.forEach(f),this.h()},h(){Se(t,"class","flex justify-between gap-4"),Se(h,"class","table table-hover table-compact w-full table-auto"),Se(W,"class","flex justify-between"),Se(e,"class","overflow-x-auto space-y-4")},m(r,g){M(r,e,g),a(e,t),E(s,t,null),a(t,i),E(p,t,null),a(e,P),a(e,h),a(h,d),a(d,c),E(N,c,null),a(c,ee),E(V,c,null),a(c,ue),E(F,c,null),a(c,te),E(G,c,null),a(c,he),E(H,c,null),a(c,re),E(U,c,null),a(c,ge),E(I,c,null),a(c,ne),E(Y,c,null),a(d,de),a(d,_),E(z,_,null),a(_,fe),E(Q,_,null),a(_,ae),E(L,_,null),a(_,ie),E(C,_,null),a(_,v),E(l,_,null),a(_,$),E(o,_,null),a(_,se),E(Z,_,null),a(_,be),E(x,_,null),a(h,we),a(h,le);for(let J=0;J<O.length;J+=1)O[J]&&O[J].m(le,null);a(e,Ee),a(e,W),E(X,W,null),a(W,qe),E(_e,W,null),ye=!0},p(r,[g]){const J={};g&2048&&(J.$$scope={dirty:g,ctx:r}),N.$set(J);const pe={};g&2048&&(pe.$$scope={dirty:g,ctx:r}),V.$set(pe);const ce={};g&2048&&(ce.$$scope={dirty:g,ctx:r}),F.$set(ce);const q={};g&2048&&(q.$$scope={dirty:g,ctx:r}),G.$set(q);const k={};g&2048&&(k.$$scope={dirty:g,ctx:r}),H.$set(k);const De={};g&2048&&(De.$$scope={dirty:g,ctx:r}),U.$set(De);const ve={};g&2048&&(ve.$$scope={dirty:g,ctx:r}),I.$set(ve);const Be={};if(g&2048&&(Be.$$scope={dirty:g,ctx:r}),Y.$set(Be),g&1){Te=Re(r[0]);let K;for(K=0;K<Te.length;K+=1){const ke=je(r,Te,K);O[K]?O[K].p(ke,g):(O[K]=Ne(ke),O[K].c(),O[K].m(le,null))}for(;K<O.length;K+=1)O[K].d(1);O.length=Te.length}},i(r){ye||(T(s.$$.fragment,r),T(p.$$.fragment,r),T(N.$$.fragment,r),T(V.$$.fragment,r),T(F.$$.fragment,r),T(G.$$.fragment,r),T(H.$$.fragment,r),T(U.$$.fragment,r),T(I.$$.fragment,r),T(Y.$$.fragment,r),T(z.$$.fragment,r),T(Q.$$.fragment,r),T(L.$$.fragment,r),T(C.$$.fragment,r),T(l.$$.fragment,r),T(o.$$.fragment,r),T(Z.$$.fragment,r),T(x.$$.fragment,r),T(X.$$.fragment,r),T(_e.$$.fragment,r),ye=!0)},o(r){B(s.$$.fragment,r),B(p.$$.fragment,r),B(N.$$.fragment,r),B(V.$$.fragment,r),B(F.$$.fragment,r),B(G.$$.fragment,r),B(H.$$.fragment,r),B(U.$$.fragment,r),B(I.$$.fragment,r),B(Y.$$.fragment,r),B(z.$$.fragment,r),B(Q.$$.fragment,r),B(L.$$.fragment,r),B(C.$$.fragment,r),B(l.$$.fragment,r),B(o.$$.fragment,r),B(Z.$$.fragment,r),B(x.$$.fragment,r),B(X.$$.fragment,r),B(_e.$$.fragment,r),ye=!1},d(r){r&&f(e),D(s),D(p),D(N),D(V),D(F),D(G),D(H),D(U),D(I),D(Y),D(z),D(Q),D(L),D(C),D(l),D(o),D(Z),D(x),Le(O,r),D(X),D(_e)}}}function rt(n,e,t){let s,i;Pe(n,Je,d=>t(3,s=d));const p=s.features,P=new ze(p,{rowsPerPage:5}),h=P.getRows();return Pe(n,h,d=>t(0,i=d)),console.log(P.getFilters()),[i,P,h]}class nt extends He{constructor(e){super(),Ie(this,e,rt,tt,Fe,{})}}function at(n){let e,t,s;return t=new nt({}),{c(){e=S("div"),b(t.$$.fragment),this.h()},l(i){e=y(i,"DIV",{class:!0});var p=R(e);w(t.$$.fragment,p),p.forEach(f),this.h()},h(){Se(e,"class","m-4")},m(i,p){M(i,e,p),E(t,e,null),s=!0},p:Ce,i(i){s||(T(t.$$.fragment,i),s=!0)},o(i){B(t.$$.fragment,i),s=!1},d(i){i&&f(e),D(t)}}}class mt extends He{constructor(e){super(),Ie(this,e,null,at,Fe,{})}}export{mt as component};
