import{s as ie,l as J,f as ee,u as te,h as le,j as se,r as Ne,o as ue,k as Me,m as Y,p as R,d as De,n as oe,t as Oe,e as We,c as de}from"../chunks/scheduler.Clr8XBc_.js";import{S as fe,i as ce,e as T,s as w,c as S,a as F,f as G,d as I,A as me,l as i,E as Z,g as U,h as L,B as H,m as C,v as x,n as A,w as $,t as N,k as O,b as W,F as Q,G as X,C as K,x as Je,o as Fe,p as Ve,q as je,r as Be,u as Ke,j as Ce}from"../chunks/index.DeB5XMQg.js";import{e as he}from"../chunks/each.CGIyx47F.js";import{g as Qe}from"../chunks/stores.BGuzBvdV.js";import{g as Xe}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.Cg7AonfE.js";import{a as Ye}from"../chunks/annotationStore._jSPV92U.js";import{u as ae,t as Ze}from"../chunks/TAStore.BjtP3FMW.js";import{r as re}from"../chunks/refStore.DbhNRPi-.js";const xe=l=>({}),ge=l=>({}),$e=l=>({}),_e=l=>({}),et=l=>({}),ve=l=>({});function ke(l){let e,t,a;const o=l[18].lead,s=ee(o,l,l[17],ve);return{c(){e=T("div"),s&&s.c(),this.h()},l(r){e=S(r,"DIV",{class:!0});var f=F(e);s&&s.l(f),f.forEach(I),this.h()},h(){i(e,"class",t="dropzone-lead "+l[5])},m(r,f){U(r,e,f),s&&s.m(e,null),a=!0},p(r,f){s&&s.p&&(!a||f[0]&131072)&&te(s,o,r,r[17],a?se(o,r[17],f,et):le(r[17]),ve),(!a||f[0]&32&&t!==(t="dropzone-lead "+r[5]))&&i(e,"class",t)},i(r){a||(C(s,r),a=!0)},o(r){A(s,r),a=!1},d(r){r&&I(e),s&&s.d(r)}}}function tt(l){let e,t="Upload a file",a;return{c(){e=T("strong"),e.textContent=t,a=N(" or drag and drop")},l(o){e=S(o,"STRONG",{"data-svelte-h":!0}),O(e)!=="svelte-13uz6lq"&&(e.textContent=t),a=W(o," or drag and drop")},m(o,s){U(o,e,s),U(o,a,s)},p:oe,d(o){o&&(I(e),I(a))}}}function pe(l){let e,t,a;const o=l[18].meta,s=ee(o,l,l[17],ge);return{c(){e=T("small"),s&&s.c(),this.h()},l(r){e=S(r,"SMALL",{class:!0});var f=F(e);s&&s.l(f),f.forEach(I),this.h()},h(){i(e,"class",t="dropzone-meta "+l[7])},m(r,f){U(r,e,f),s&&s.m(e,null),a=!0},p(r,f){s&&s.p&&(!a||f[0]&131072)&&te(s,o,r,r[17],a?se(o,r[17],f,xe):le(r[17]),ge),(!a||f[0]&128&&t!==(t="dropzone-meta "+r[7]))&&i(e,"class",t)},i(r){a||(C(s,r),a=!0)},o(r){A(s,r),a=!1},d(r){r&&I(e),s&&s.d(r)}}}function lt(l){let e,t,a,o,s,r,f,v,E,y,_,h,n,u,b,M,P=[{type:"file"},{name:l[2]},{class:a="dropzone-input "+l[9]},l[11]()],j={};for(let d=0;d<P.length;d+=1)j=J(j,P[d]);let k=l[13].lead&&ke(l);const V=l[18].message,m=ee(V,l,l[17],_e),z=m||tt();let c=l[13].meta&&pe(l);return{c(){e=T("div"),t=T("input"),o=w(),s=T("div"),r=T("div"),k&&k.c(),f=w(),v=T("div"),z&&z.c(),y=w(),c&&c.c(),this.h()},l(d){e=S(d,"DIV",{class:!0,"data-testid":!0});var p=F(e);t=S(p,"INPUT",{type:!0,name:!0,class:!0}),o=G(p),s=S(p,"DIV",{class:!0});var D=F(s);r=S(D,"DIV",{class:!0});var B=F(r);k&&k.l(B),f=G(B),v=S(B,"DIV",{class:!0});var q=F(v);z&&z.l(q),q.forEach(I),y=G(B),c&&c.l(B),B.forEach(I),D.forEach(I),p.forEach(I),this.h()},h(){me(t,j),i(v,"class",E="dropzone-message "+l[6]),i(r,"class",_="dropzone-interface-text "+l[4]),i(s,"class",h="dropzone-interface "+l[8]+" "+l[3]),i(e,"class",n="dropzone "+l[10]),i(e,"data-testid","file-dropzone"),Z(e,"opacity-50",l[12].disabled)},m(d,p){U(d,e,p),L(e,t),t.autofocus&&t.focus(),l[32](t),L(e,o),L(e,s),L(s,r),k&&k.m(r,null),L(r,f),L(r,v),z&&z.m(v,null),L(r,y),c&&c.m(r,null),u=!0,b||(M=[H(t,"change",l[31]),H(t,"change",l[19]),H(t,"dragenter",l[20]),H(t,"dragover",l[21]),H(t,"dragleave",l[22]),H(t,"drop",l[23]),H(t,"click",l[24]),H(t,"keydown",l[25]),H(t,"keyup",l[26]),H(t,"keypress",l[27]),H(t,"focus",l[28]),H(t,"focusin",l[29]),H(t,"focusout",l[30])],b=!0)},p(d,p){me(t,j=Xe(P,[{type:"file"},(!u||p[0]&4)&&{name:d[2]},(!u||p[0]&512&&a!==(a="dropzone-input "+d[9]))&&{class:a},d[11]()])),d[13].lead?k?(k.p(d,p),p[0]&8192&&C(k,1)):(k=ke(d),k.c(),C(k,1),k.m(r,f)):k&&(x(),A(k,1,1,()=>{k=null}),$()),m&&m.p&&(!u||p[0]&131072)&&te(m,V,d,d[17],u?se(V,d[17],p,$e):le(d[17]),_e),(!u||p[0]&64&&E!==(E="dropzone-message "+d[6]))&&i(v,"class",E),d[13].meta?c?(c.p(d,p),p[0]&8192&&C(c,1)):(c=pe(d),c.c(),C(c,1),c.m(r,null)):c&&(x(),A(c,1,1,()=>{c=null}),$()),(!u||p[0]&16&&_!==(_="dropzone-interface-text "+d[4]))&&i(r,"class",_),(!u||p[0]&264&&h!==(h="dropzone-interface "+d[8]+" "+d[3]))&&i(s,"class",h),(!u||p[0]&1024&&n!==(n="dropzone "+d[10]))&&i(e,"class",n),(!u||p[0]&5120)&&Z(e,"opacity-50",d[12].disabled)},i(d){u||(C(k),C(z,d),C(c),u=!0)},o(d){A(k),A(z,d),A(c),u=!1},d(d){d&&I(e),l[32](null),k&&k.d(),z&&z.d(d),c&&c.d(),b=!1,Ne(M)}}}const st="textarea relative flex justify-center items-center",at="w-full absolute top-0 left-0 right-0 bottom-0 z-[1] opacity-0 disabled:!opacity-0 cursor-pointer",rt="flex justify-center items-center text-center";function nt(l,e,t){let a,o,s;const r=["files","fileInput","name","border","padding","rounded","regionInterface","regionInterfaceText","slotLead","slotMessage","slotMeta"];let f=ue(e,r),{$$slots:v={},$$scope:E}=e;const y=Me(v);let{files:_=void 0}=e,{fileInput:h=void 0}=e,{name:n}=e,{border:u="border-2 border-dashed"}=e,{padding:b="p-4 py-8"}=e,{rounded:M="rounded-container-token"}=e,{regionInterface:P=""}=e,{regionInterfaceText:j=""}=e,{slotLead:k="mb-4"}=e,{slotMessage:V=""}=e,{slotMeta:m="opacity-75"}=e;function z(){return delete f.class,f}function c(g){R.call(this,l,g)}function d(g){R.call(this,l,g)}function p(g){R.call(this,l,g)}function D(g){R.call(this,l,g)}function B(g){R.call(this,l,g)}function q(g){R.call(this,l,g)}function Pe(g){R.call(this,l,g)}function He(g){R.call(this,l,g)}function Ue(g){R.call(this,l,g)}function Ae(g){R.call(this,l,g)}function Re(g){R.call(this,l,g)}function we(g){R.call(this,l,g)}function Ge(){_=this.files,t(0,_)}function qe(g){De[g?"unshift":"push"](()=>{h=g,t(1,h)})}return l.$$set=g=>{t(33,e=J(J({},e),Y(g))),t(12,f=ue(e,r)),"files"in g&&t(0,_=g.files),"fileInput"in g&&t(1,h=g.fileInput),"name"in g&&t(2,n=g.name),"border"in g&&t(14,u=g.border),"padding"in g&&t(15,b=g.padding),"rounded"in g&&t(16,M=g.rounded),"regionInterface"in g&&t(3,P=g.regionInterface),"regionInterfaceText"in g&&t(4,j=g.regionInterfaceText),"slotLead"in g&&t(5,k=g.slotLead),"slotMessage"in g&&t(6,V=g.slotMessage),"slotMeta"in g&&t(7,m=g.slotMeta),"$$scope"in g&&t(17,E=g.$$scope)},l.$$.update=()=>{t(10,a=`${st} ${u} ${b} ${M} ${e.class??""}`)},t(9,o=`${at}`),t(8,s=`${rt}`),e=Y(e),[_,h,n,P,j,k,V,m,s,o,a,z,f,y,u,b,M,E,v,c,d,p,D,B,q,Pe,He,Ue,Ae,Re,we,Ge,qe]}class it extends fe{constructor(e){super(),ce(this,e,nt,lt,ie,{files:0,fileInput:1,name:2,border:14,padding:15,rounded:16,regionInterface:3,regionInterfaceText:4,slotLead:5,slotMessage:6,slotMeta:7},null,[-1,-1])}}function be(l){let e,t,a;const o=l[16].default,s=ee(o,l,l[15],null);return{c(){e=Q("text"),s&&s.c(),this.h()},l(r){e=X(r,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,"font-weight":!0,"font-size":!0,class:!0});var f=F(e);s&&s.l(f),f.forEach(I),this.h()},h(){i(e,"x","50%"),i(e,"y","50%"),i(e,"text-anchor","middle"),i(e,"dominant-baseline","middle"),i(e,"font-weight","bold"),i(e,"font-size",l[2]),i(e,"class",t="progress-radial-text "+l[7])},m(r,f){U(r,e,f),s&&s.m(e,null),a=!0},p(r,f){s&&s.p&&(!a||f&32768)&&te(s,o,r,r[15],a?se(o,r[15],f,null):le(r[15]),null),(!a||f&4)&&i(e,"font-size",r[2]),(!a||f&128&&t!==(t="progress-radial-text "+r[7]))&&i(e,"class",t)},i(r){a||(C(s,r),a=!0)},o(r){A(s,r),a=!1},d(r){r&&I(e),s&&s.d(r)}}}function ot(l){let e,t,a,o,s,r,f=`${l[9]}
			${l[9]}`,v,E,y,_,h=l[0]!=null&&l[0]>=0&&l[13].default&&be(l);return{c(){e=T("figure"),t=Q("svg"),a=Q("circle"),s=Q("circle"),h&&h.c(),this.h()},l(n){e=S(n,"FIGURE",{class:!0,"data-testid":!0,role:!0,"aria-labelledby":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-valuemin":!0,"aria-valuemax":!0});var u=F(e);t=X(u,"svg",{viewBox:!0,class:!0});var b=F(t);a=X(b,"circle",{class:!0,"stroke-width":!0,r:!0,cx:!0,cy:!0}),F(a).forEach(I),s=X(b,"circle",{class:!0,"stroke-width":!0,r:!0,cx:!0,cy:!0,"stroke-linecap":!0}),F(s).forEach(I),h&&h.l(b),b.forEach(I),u.forEach(I),this.h()},h(){i(a,"class",o="progress-radial-track "+Ie+" "+l[6]),i(a,"stroke-width",l[1]),i(a,"r",l[12]),i(a,"cx","50%"),i(a,"cy","50%"),i(s,"class",r="progress-radial-meter "+ze+" "+l[5]+" "+l[4]),i(s,"stroke-width",l[1]),i(s,"r",l[12]),i(s,"cx","50%"),i(s,"cy","50%"),i(s,"stroke-linecap",l[3]),K(s,"stroke-dasharray",f),K(s,"stroke-dashoffset",l[10]),i(t,"viewBox","0 0 "+ne+" "+ne),i(t,"class","rounded-full"),Z(t,"animate-spin",l[0]===void 0),i(e,"class",v="progress-radial "+l[11]),i(e,"data-testid","progress-radial"),i(e,"role","meter"),i(e,"aria-labelledby",l[8]),i(e,"aria-valuenow",E=l[0]||0),i(e,"aria-valuetext",y=l[0]?`${l[0]}%`:"Indeterminate Spinner"),i(e,"aria-valuemin",0),i(e,"aria-valuemax",100)},m(n,u){U(n,e,u),L(e,t),L(t,a),L(t,s),h&&h.m(t,null),_=!0},p(n,[u]){(!_||u&64&&o!==(o="progress-radial-track "+Ie+" "+n[6]))&&i(a,"class",o),(!_||u&2)&&i(a,"stroke-width",n[1]),(!_||u&48&&r!==(r="progress-radial-meter "+ze+" "+n[5]+" "+n[4]))&&i(s,"class",r),(!_||u&2)&&i(s,"stroke-width",n[1]),(!_||u&8)&&i(s,"stroke-linecap",n[3]),u&512&&f!==(f=`${n[9]}
			${n[9]}`)&&K(s,"stroke-dasharray",f),u&1024&&K(s,"stroke-dashoffset",n[10]),n[0]!=null&&n[0]>=0&&n[13].default?h?(h.p(n,u),u&8193&&C(h,1)):(h=be(n),h.c(),C(h,1),h.m(t,null)):h&&(x(),A(h,1,1,()=>{h=null}),$()),(!_||u&1)&&Z(t,"animate-spin",n[0]===void 0),(!_||u&2048&&v!==(v="progress-radial "+n[11]))&&i(e,"class",v),(!_||u&256)&&i(e,"aria-labelledby",n[8]),(!_||u&1&&E!==(E=n[0]||0))&&i(e,"aria-valuenow",E),(!_||u&1&&y!==(y=n[0]?`${n[0]}%`:"Indeterminate Spinner"))&&i(e,"aria-valuetext",y)},i(n){_||(C(h),_=!0)},o(n){A(h),_=!1},d(n){n&&I(e),h&&h.d()}}}const ft="progress-radial relative overflow-hidden",Ie="fill-transparent",ze="fill-transparent -rotate-90 origin-[50%_50%]",ne=512;function ct(l,e,t){let a,{$$slots:o={},$$scope:s}=e;const r=Me(o);let{value:f=void 0}=e,{stroke:v=40}=e,{font:E=56}=e,{strokeLinecap:y="butt"}=e,{transition:_="transition-[stroke-dashoffset]"}=e,{width:h="w-36"}=e,{meter:n="stroke-surface-900 dark:stroke-surface-50"}=e,{track:u="stroke-surface-500/30"}=e,{fill:b="fill-token"}=e,{labelledby:M=""}=e;const P=ne/2-v/2;let j=P,k;function V(m){t(9,j=P*2*Math.PI),t(10,k=j-m/100*j)}return V(0),Oe(()=>{V(f===void 0?25:f)}),l.$$set=m=>{t(18,e=J(J({},e),Y(m))),"value"in m&&t(0,f=m.value),"stroke"in m&&t(1,v=m.stroke),"font"in m&&t(2,E=m.font),"strokeLinecap"in m&&t(3,y=m.strokeLinecap),"transition"in m&&t(4,_=m.transition),"width"in m&&t(14,h=m.width),"meter"in m&&t(5,n=m.meter),"track"in m&&t(6,u=m.track),"fill"in m&&t(7,b=m.fill),"labelledby"in m&&t(8,M=m.labelledby),"$$scope"in m&&t(15,s=m.$$scope)},l.$$.update=()=>{t(11,a=`${ft} ${h} ${e.class??""}`)},e=Y(e),[f,v,E,y,_,n,u,b,M,j,k,a,P,r,h,s,o]}class ut extends fe{constructor(e){super(),ce(this,e,ct,ot,ie,{value:0,stroke:1,font:2,strokeLinecap:3,transition:4,width:14,meter:5,track:6,fill:7,labelledby:8})}}function ye(l,e,t){const a=l.slice();return a[10]=e[t],a[12]=t,a}function dt(l){let e,t='<span class="font-semibold">Load files</span> or drag and drop';return{c(){e=T("p"),e.innerHTML=t,this.h()},l(a){e=S(a,"P",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-10rbgmq"&&(e.innerHTML=t),this.h()},h(){i(e,"class","text-xl ")},m(a,o){U(a,e,o)},p:oe,d(a){a&&I(e)}}}function mt(l){let e;return{c(){e=N("Only GFF+FASTA and .userplot files allowed.")},l(t){e=W(t,"Only GFF+FASTA and .userplot files allowed.")},m(t,a){U(t,e,a)},d(t){t&&I(e)}}}function Ee(l){let e,t,a,o,s=l[2].name+"",r,f,v,E='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',y,_;return{c(){e=T("div"),t=T("div"),a=T("p"),o=N("Reference: "),r=N(s),f=w(),v=T("button"),v.innerHTML=E,this.h()},l(h){e=S(h,"DIV",{class:!0});var n=F(e);t=S(n,"DIV",{class:!0});var u=F(t);a=S(u,"P",{class:!0});var b=F(a);o=W(b,"Reference: "),r=W(b,s),b.forEach(I),f=G(u),v=S(u,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(v)!=="svelte-220c8p"&&(v.innerHTML=E),u.forEach(I),n.forEach(I),this.h()},h(){i(a,"class","text-center text-lg"),i(v,"type","button"),i(v,"class","btn-icon variant-ringed-tertiary"),i(t,"class","flex justify-center items-center space-x-2"),i(e,"class","card p-4 m-2")},m(h,n){U(h,e,n),L(e,t),L(t,a),L(a,o),L(a,r),L(t,f),L(t,v),y||(_=H(v,"click",re.reset),y=!0)},p(h,n){n&4&&s!==(s=h[2].name+"")&&Ce(r,s)},d(h){h&&I(e),y=!1,_()}}}function Le(l){let e,t,a,o,s=l[10][0]+"",r,f,v,E='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',y,_;function h(){return l[6](l[10])}return{c(){e=T("div"),t=T("div"),a=T("p"),o=N("Data: "),r=N(s),f=w(),v=T("button"),v.innerHTML=E,this.h()},l(n){e=S(n,"DIV",{class:!0});var u=F(e);t=S(u,"DIV",{class:!0});var b=F(t);a=S(b,"P",{class:!0});var M=F(a);o=W(M,"Data: "),r=W(M,s),M.forEach(I),f=G(b),v=S(b,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(v)!=="svelte-1wj9zhx"&&(v.innerHTML=E),b.forEach(I),u.forEach(I),this.h()},h(){i(a,"class","text-center text-lg"),i(v,"type","button"),i(v,"class","btn-icon variant-ringed-tertiary"),i(t,"class","flex justify-center items-center space-x-2"),i(e,"class","card p-4 m-2")},m(n,u){U(n,e,u),L(e,t),L(t,a),L(a,o),L(a,r),L(t,f),L(t,v),y||(_=H(v,"click",h),y=!0)},p(n,u){l=n,u&8&&s!==(s=l[10][0]+"")&&Ce(r,s)},d(n){n&&I(e),y=!1,_()}}}function Te(l){let e,t,a;return t=new ut({props:{value:void 0,width:"w-14",strokeLinecap:"round"}}),{c(){e=T("div"),Fe(t.$$.fragment),this.h()},l(o){e=S(o,"DIV",{class:!0});var s=F(e);Ve(t.$$.fragment,s),s.forEach(I),this.h()},h(){i(e,"class","flex items-center justify-center align-middle ml-8")},m(o,s){U(o,e,s),je(t,e,null),a=!0},p:oe,i(o){a||(C(t.$$.fragment,o),a=!0)},o(o){A(t.$$.fragment,o),a=!1},d(o){o&&I(e),Be(t)}}}function ht(l){let e,t,a,o='<div><section class="img-bg svelte-cmzijy"></section></div> <img class="logo-img mt-16 svelte-cmzijy" src="/images/logo2.png" alt="Skeleton Logo"/>',s,r,f="Transposon Sequencing Data Visualiser",v,E,y,_,h,n,u,b,M;function P(c){l[5](c)}let j={name:"files",multiple:!0,$$slots:{meta:[mt],message:[dt]},$$scope:{ctx:l}};l[0]!==void 0&&(j.files=l[0]),y=new it({props:j}),De.push(()=>Je(y,"files",P)),y.$on("change",l[4]),y.$on("click",Se),y.$on("drop",Se);let k=l[2].name&&Ee(l),V=he(l[3]),m=[];for(let c=0;c<V.length;c+=1)m[c]=Le(ye(l,V,c));let z=l[1]&&Te();return{c(){e=T("div"),t=T("div"),a=T("figure"),a.innerHTML=o,s=w(),r=T("h1"),r.textContent=f,v=w(),E=T("div"),Fe(y.$$.fragment),h=w(),n=T("div"),k&&k.c(),u=w();for(let c=0;c<m.length;c+=1)m[c].c();b=w(),z&&z.c(),this.h()},l(c){e=S(c,"DIV",{class:!0});var d=F(e);t=S(d,"DIV",{class:!0});var p=F(t);a=S(p,"FIGURE",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-vpzkus"&&(a.innerHTML=o),s=G(p),r=S(p,"H1",{class:!0,"data-svelte-h":!0}),O(r)!=="svelte-1opypuh"&&(r.textContent=f),v=G(p),E=S(p,"DIV",{class:!0});var D=F(E);Ve(y.$$.fragment,D),D.forEach(I),p.forEach(I),d.forEach(I),h=G(c),n=S(c,"DIV",{class:!0});var B=F(n);k&&k.l(B),u=G(B);for(let q=0;q<m.length;q+=1)m[q].l(B);b=G(B),z&&z.l(B),B.forEach(I),this.h()},h(){i(a,"class","card-hover rounded-full svelte-cmzijy"),i(r,"class","text-center text-3xl"),i(E,"class","px-2 w-full"),i(t,"class","flex flex-col items-center align-baseline justify-center max-w-4xl space-y-10 "),i(e,"class","flex justify-center mb-6"),i(n,"class","flex flex-wrap space-4 justify-center")},m(c,d){U(c,e,d),L(e,t),L(t,a),L(t,s),L(t,r),L(t,v),L(t,E),je(y,E,null),U(c,h,d),U(c,n,d),k&&k.m(n,null),L(n,u);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(n,null);L(n,b),z&&z.m(n,null),M=!0},p(c,[d]){const p={};if(d&8192&&(p.$$scope={dirty:d,ctx:c}),!_&&d&1&&(_=!0,p.files=c[0],We(()=>_=!1)),y.$set(p),c[2].name?k?k.p(c,d):(k=Ee(c),k.c(),k.m(n,u)):k&&(k.d(1),k=null),d&8){V=he(c[3]);let D;for(D=0;D<V.length;D+=1){const B=ye(c,V,D);m[D]?m[D].p(B,d):(m[D]=Le(B),m[D].c(),m[D].m(n,b))}for(;D<m.length;D+=1)m[D].d(1);m.length=V.length}c[1]?z?(z.p(c,d),d&2&&C(z,1)):(z=Te(),z.c(),C(z,1),z.m(n,null)):z&&(x(),A(z,1,1,()=>{z=null}),$())},i(c){M||(C(y.$$.fragment,c),C(z),M=!0)},o(c){A(y.$$.fragment,c),A(z),M=!1},d(c){c&&(I(e),I(h),I(n)),Be(y),k&&k.d(),Ke(m,c),z&&z.d()}}}function gt(l){const e=l.split(`
`);let t="",a="",o=!1;for(const s of e){if(s.startsWith("##FASTA")){o=!0;continue}o&&(s.startsWith(">")?(a&&(t+=a+`
`),a=s+`
`):a+=s.trim())}return a&&(t+=a+`
`),t.trim()}function Se(){const l=document.getElementsByName("files")[0];l.value=""}function _t(l,e,t){let a,o;de(l,re,_=>t(2,a=_)),de(l,ae,_=>t(3,o=_));const s=Qe();let r,f=!1;function v(_){if(console.log("Files dropped:",r),!r||r.length===0)return;t(1,f=!0);let h=[];for(let n=0;n<r.length;n++){const u=r[n],b=u.name,M=new FileReader;h.push(new Promise((P,j)=>{M.onload=async k=>{var m,z;let V=(z=(m=k.target)==null?void 0:m.result)==null?void 0:z.toString();if(b.endsWith(".gff")||b.endsWith(".gff3")){await Ye.load(V);const c=gt(V);await re.load(b,c).catch(d=>{console.error("Error loading reference:",d);const D={message:"Error loading reference: "+d,background:"variant-ghost-error"};s.trigger(D)}),await Ze.load(c),P(0)}else if(b.endsWith(".userplot"))await ae.load(b,V);else{console.error("Unsupported file type:",b);const d={message:"Unsupported file type: "+b,background:"variant-ghost-error"};s.trigger(d),j("Unsupported file type: "+b)}P(0)},M.onerror=j,M.readAsText(u)}))}Promise.all(h).then(n=>{t(1,f=!1)}).catch(n=>{console.error("Error reading files:",n),t(1,f=!1)})}function E(_){r=_,t(0,r)}return[r,f,a,o,v,E,_=>ae.remove(_[0])]}class Lt extends fe{constructor(e){super(),ce(this,e,_t,ht,ie,{})}}export{Lt as component};
